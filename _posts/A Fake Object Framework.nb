(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.1' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    201046,       5106]
NotebookOptionsPosition[    183132,       4698]
NotebookOutlinePosition[    183558,       4715]
CellTagsIndexPosition[    183515,       4712]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{"\[LeftAssociation]", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"\"\<Title\>\"", "\[Rule]", "\"\<A Fake Object Framework\>\""}], 
   ",", "\[IndentingNewLine]", 
   RowBox[{"\"\<Date\>\"", "->", 
    TemplateBox[{RowBox[{"\"Fri 4 Aug 2017 17:57:46\"", 
        StyleBox[
         RowBox[{"\"GMT\"", "\[InvisibleSpace]", 
           RowBox[{"-", "4.`"}]}], FontColor -> GrayLevel[0.5]]}],
      RowBox[{"DateObject", "[", 
        RowBox[{
          RowBox[{"{", 
            
            RowBox[{"2017", ",", "8", ",", "4", ",", "17", ",", "57", ",", 
              "46.149021`"}], "}"}], ",", "\"Instant\"", ",", "\"Gregorian\"",
           ",", 
          RowBox[{"-", "4.`"}]}], "]"}]},
     "DateObject",
     Editable->False]}], ",", "\[IndentingNewLine]", 
   RowBox[{"\"\<Modified\>\"", "\[RuleDelayed]", "Now"}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"\"\<Tags\>\"", "\[Rule]", 
    RowBox[{"{", "\"\<mathematica\>\"", "}"}]}], ",", "\[IndentingNewLine]", 
   RowBox[{"\"\<Slug\>\"", "\[Rule]", "Automatic"}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"\"\<Authors\>\"", "\[Rule]", 
    RowBox[{"{", "}"}]}], ",", "\[IndentingNewLine]", 
   RowBox[{
   "\"\<Disqus_ID\>\"", "\[Rule]", 
    "\"\<b3m2a1-home-26119950-8d56-478a-9339-dda09c8ae108\>\""}]}], 
  "\[IndentingNewLine]", "\[RightAssociation]"}]], "Metadata",
 CellChangeTimes->{{3.710872651146255*^9, 3.7108726961961946`*^9}, {
  3.710872790283095*^9, 3.710872796534295*^9}, {3.7109825352946987`*^9, 
  3.7109825397827473`*^9}},ExpressionUUID->"15077bdd-b3c3-4959-8803-\
cc7db96083f3"],

Cell[TextData[{
 "I promised in my post on ",
 ButtonBox["chemistry and objects",
  BaseStyle->"Hyperlink",
  ButtonData->{
    URL["https://www.wolframcloud.com/objects/b3m2a1/home/-pretend-chemistry-\
and-fake-objects.html"], None},
  ButtonNote->
   "https://www.wolframcloud.com/objects/b3m2a1/home/-pretend-chemistry-and-\
fake-objects.html"],
 " that I\[CloseCurlyQuote]d walk through the details of building an object \
framework in Mathematica so here we are. For those who would like to follow \
along, ",
 ButtonBox["here",
  BaseStyle->"Hyperlink",
  ButtonData->{
    URL["https://github.com/b3m2a1/mathematica-ObjectFramework/blob/master/\
Packages/ObjectFramework.m"], None},
  ButtonNote->
   "https://github.com/b3m2a1/mathematica-ObjectFramework/blob/master/\
Packages/ObjectFramework.m"],
 " is the package that implements this framework."
}], "Text",
 CellChangeTimes->{{3.7108726990294437`*^9, 3.71087277042354*^9}, {
  3.710872807511442*^9, 3.71087282262868*^9}, {3.710873465503727*^9, 
  3.710873486291913*^9}, {3.7109568137744083`*^9, 
  3.710956820348159*^9}},ExpressionUUID->"b67d60d8-de55-4ea4-8e6b-\
33384404b6ce"],

Cell["\<\
Just as a quick refresher, there were a few properties that we decided we\
\[CloseCurlyQuote]d use in our framework. These were:\
\>", "Text",
 CellChangeTimes->{{3.710872823822551*^9, 
  3.71087289261695*^9}},ExpressionUUID->"4b8256ab-7507-44a7-96aa-\
1d0675332f8b"],

Cell[CellGroupData[{

Cell["Objects are glorified hash-maps", "Item",
 CellChangeTimes->{{3.7100368555919943`*^9, 
  3.710036860575683*^9}},ExpressionUUID->"f956169e-d9ba-48ad-bae0-\
efd983cbab23"],

Cell["Objects have types", "Item",
 CellChangeTimes->{{3.710036791837379*^9, 3.710036797574542*^9}, {
  3.710078287776205*^9, 
  3.710078305360239*^9}},ExpressionUUID->"2014b9e3-fc3f-404e-b40a-\
82981f31e8fd"],

Cell["Methods get bound to objects", "Item",
 CellChangeTimes->{{3.710036791837379*^9, 
  3.7100368277414637`*^9}},ExpressionUUID->"1bc34c03-ef9b-4238-afe7-\
ac65e1915fca"],

Cell["\<\
There are properties which are bound methods that evaluate when accessed\
\>", "Item",
 CellChangeTimes->{{3.710036791837379*^9, 
  3.7100368482922564`*^9}},ExpressionUUID->"f46bc5e4-82c2-44eb-b02f-\
523671085db8"],

Cell["\<\
Everything important is vectorized (i.e. can be done over vectors)\
\>", "Item",
 CellChangeTimes->{{3.710036911491678*^9, 3.710036919491397*^9}, {
  3.710037038713737*^9, 
  3.710037046618981*^9}},ExpressionUUID->"ace5bc1a-1a13-4f51-8ebd-\
3d5f5de1a78f"]
}, Open  ]],

Cell["We\[CloseCurlyQuote]ll start with the first of those.", "Text",
 CellChangeTimes->{{3.710872903431978*^9, 3.710872927735126*^9}, 
   3.710873340441231*^9, {3.710873518597309*^9, 
   3.7108735201937857`*^9}},ExpressionUUID->"c7bc3453-c92c-415d-a876-\
db0edd6b02b4"],

Cell[CellGroupData[{

Cell["Building an Object", "Subsection",
 CellChangeTimes->{{3.710872930487113*^9, 3.7108729347107077`*^9}, {
  3.710898722696239*^9, 
  3.710898725631483*^9}},ExpressionUUID->"b0486bf2-cdcd-450c-8f69-\
35543c8f043e"],

Cell[CellGroupData[{

Cell["Objects as Hash Maps", "Subsubsection",
 CellChangeTimes->{{3.710898727623673*^9, 
  3.710898733959449*^9}},ExpressionUUID->"08cbfc52-7e84-48d0-b20e-\
02315219756b"],

Cell[TextData[{
 "A ",
 ButtonBox["hash-map",
  BaseStyle->"Hyperlink",
  ButtonData->{
    URL["https://en.wikipedia.org/wiki/Hash_table"], None},
  ButtonNote->"https://en.wikipedia.org/wiki/Hash_table"],
 " is a data structure that provides very efficient look-up and insertion. \
Both of these will be crucial for us. Mathematica\[CloseCurlyQuote]s \
top-level version of as hash-map is called an ",
 ButtonBox["Association",
  BaseStyle->"Link",
  ButtonData->"paclet:ref/Association"],
 ". So we\[CloseCurlyQuote]ll simply store all object data in one of these. \
With that in mind, we could then go one of three routes:"
}], "Text",
 CellChangeTimes->{{3.710872947985984*^9, 3.710873109846135*^9}, {
  3.710873145842527*^9, 
  3.710873147081698*^9}},ExpressionUUID->"6618e657-8ec4-4a30-8295-\
c6dc4b11585b"],

Cell[CellGroupData[{

Cell["Each object stores its data in a symbol it holds", "Item",
 CellChangeTimes->{{3.710873112941037*^9, 3.71087312017448*^9}, {
  3.710873167575787*^9, 
  3.7108731690803223`*^9}},ExpressionUUID->"07b70361-5448-4804-bbf8-\
a501ea5370c2"],

Cell["All object data is stored in a single symbol", "Item",
 CellChangeTimes->{{3.710873112941037*^9, 
  3.710873127661027*^9}},ExpressionUUID->"122017fa-c1e3-4352-8c35-\
e8c2ffa59ce2"],

Cell["\<\
Each object stores its data in a symbol and there\[CloseCurlyQuote]s a \
central store for all these symbols\
\>", "Item",
 CellChangeTimes->{{3.710873112941037*^9, 3.710873127661027*^9}, {
  3.7108731581049213`*^9, 
  3.71087318999142*^9}},ExpressionUUID->"69dc9334-a9eb-49f4-8c29-\
3bea1b3bd661"]
}, Open  ]],

Cell["\<\
For reasons of convenience we will choose the second. If there will be \
massive amounts of object data store the last may be the best, performance \
wise, but provides somewhat more involved property setting. The first makes \
it hard to know what exactly is an object. Both the first and last similarly \
make restoring state somewhat more challenging.\
\>", "Text",
 CellChangeTimes->{{3.710873191232683*^9, 
  3.710873331441901*^9}},ExpressionUUID->"bbeeecf9-d9ee-4781-ad79-\
88059b0745b7"],

Cell[TextData[{
 "So we\[CloseCurlyQuote]ll initialize an ",
 Cell[BoxData["Association"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "b8e0e097-4ab8-4e3f-9062-46b0b88deda8"],
 " for storing all of our data:"
}], "Text",
 CellChangeTimes->{{3.710873335307763*^9, 3.710873337832962*^9}, {
  3.710873524475935*^9, 
  3.710873558865162*^9}},ExpressionUUID->"854b4bc8-3f15-42e6-a818-\
cfa2cc582f3d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$OFObjectTable", "=", 
   RowBox[{"<|", "\n", "\t\t", 
    RowBox[{
     RowBox[{"\"\<Types\>\"", "\[Rule]", 
      RowBox[{"<|", "\n", "\t", "\t\t", 
       RowBox[{"\"\<Object\>\"", "\[Rule]", 
        RowBox[{"<|", "|>"}]}], "\n", "\t", "\t\t", "|>"}]}], ",", "\n", "\t",
      "\t", 
     RowBox[{"\"\<Objects\>\"", "\[Rule]", 
      RowBox[{"<|", "|>"}]}]}], "\n", "\t\t", "|>"}]}], ";"}]], "Code",
 CellChangeTimes->{{3.710873560499865*^9, 
  3.710873570874936*^9}},ExpressionUUID->"b08d5b56-f8e4-4da4-9b63-\
218c12d969c2"],

Cell["\<\
Note that we have two sub-maps, one for basic type data, one for object data. \
This leads us to the second point on that list, \
\[OpenCurlyDoubleQuote]Objects have types\[CloseCurlyDoubleQuote]. But before \
we even get there, we\[CloseCurlyQuote]ll need to look at how we define our \
objects.\
\>", "Text",
 CellChangeTimes->{{3.710873572331286*^9, 
  3.710873651134303*^9}},ExpressionUUID->"4145609d-fd1f-4fca-8261-\
9fb67b30d0da"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Object Creation", "Subsubsection",
 CellChangeTimes->{{3.710898716577382*^9, 
  3.710898740815608*^9}},ExpressionUUID->"46e4d2da-eed1-4ebe-9d0a-\
531dfbbda7bd"],

Cell[TextData[{
 "Now that we know how we\[CloseCurlyQuote]ll store our objects, the question \
is how should we build a new one. Since we\[CloseCurlyQuote]re working with \
an ",
 Cell[BoxData["Association"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "6ddafdf4-de8c-4ac9-b216-6f11fc988c3d"],
 " we need some a way to define a unique key for each object. There are a few \
possible routes here, but the one I\[CloseCurlyQuote]ve found to be easiest \
works through ",
 ButtonBox["CreateUUID",
  BaseStyle->"Link",
  ButtonData->"paclet:ref/CreateUUID"],
 " for the following reasons:"
}], "Text",
 CellChangeTimes->{{3.710899016623041*^9, 
  3.710899224392406*^9}},ExpressionUUID->"50bdf6d8-de1a-4562-a48e-\
cd5066e4c521"],

Cell[CellGroupData[{

Cell["\<\
It's essentially assured to be universally unique, which makes storage and \
recall easy\
\>", "Item",
 CellChangeTimes->{{3.710899016623041*^9, 
  3.710899241623047*^9}},ExpressionUUID->"a4c6f900-6011-4bfd-bdbc-\
31e24584bc2e"],

Cell["The keys are strings, so assured to be without side effects", "Item",
 CellChangeTimes->{{3.710899016623041*^9, 
  3.710899243494789*^9}},ExpressionUUID->"b2f5e7a7-8b0e-47fc-bd08-\
5203f07fde56"],

Cell["\<\
We can attach little meta-tags to the front of the key to give us a hint of \
what we\[CloseCurlyQuote]re working with\
\>", "Item",
 CellChangeTimes->{{3.7108992450871353`*^9, 
  3.710899266094468*^9}},ExpressionUUID->"4630256f-a310-4165-bbf8-\
604357fa5a52"]
}, Open  ]],

Cell[TextData[{
 "For our object definitions we\[CloseCurlyQuote]ll take an ",
 Cell[BoxData["Association"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "3f9a281d-14c3-4839-a269-f571966cb73d"],
 " of properties as the core data, where we extract the type from the ",
 Cell[BoxData["\"\<ObjectType\>\""], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "b259e8e2-e69d-4fa8-9941-6c00c8ce233f"],
 " field passed. Since it\[CloseCurlyQuote]s vectorized \
we\[CloseCurlyQuote]ll write it with a ",
 Cell[BoxData["List"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "b48066f0-cd6b-484d-9e0a-a25864ee112c"],
 " of ",
 Cell[BoxData["Association"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "fb5f3991-d2cd-4129-bf52-2062485d4519"],
 " objects in mind:"
}], "Text",
 CellChangeTimes->{{3.7108992783598127`*^9, 
  3.710899391236731*^9}},ExpressionUUID->"a7c6828a-7a3b-4570-9c30-\
a4c3811aebdb"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "OFNewObject", "]"}], "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{"\"\<Initialize\>\"", "\[Rule]", "True"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<UUIDMethod\>\"", "\[Rule]", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"CreateUUID", "[", 
         RowBox[{"#", "<>", "\"\<-\>\""}], "]"}], "&"}], ")"}]}]}], "\n", 
    "\t\t", "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"OFNewObject", "[", 
    RowBox[{
     RowBox[{"objs", ":", 
      RowBox[{"{", "__Association", "}"}]}], ",", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Catch", "@", "\n", "\t", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", "\n", "\t\t", 
       RowBox[{
        RowBox[{"types", "=", 
         RowBox[{"Lookup", "[", 
          RowBox[{"objs", ",", "\"\<ObjectType\>\"", ",", "\"\<Object\>\""}], 
          "]"}]}], ",", "\n", "\t\t", 
        RowBox[{"args", "=", 
         RowBox[{"Lookup", "[", 
          RowBox[{"objs", ",", "\"\<ObjectInitializationArguments\>\"", ",", 
           RowBox[{"{", "}"}]}], "]"}]}], ",", "\n", "\t\t", "uuids", ",", 
        "\n", "\t\t", "objlist"}], "\n", "\t\t", "}"}], ",", "\n", "\t\t", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"!", 
          RowBox[{"AllTrue", "[", 
           RowBox[{"types", ",", "StringQ"}], "]"}]}], ",", 
         RowBox[{
          RowBox[{"Message", "[", 
           RowBox[{
            RowBox[{"OFNewObject", "::", "types"}], ",", "types"}], "]"}], 
          ";", 
          RowBox[{"Throw", "[", "$Failed", "]"}]}]}], "]"}], ";", "\n", 
       "\t\t", 
       RowBox[{"uuids", "=", "\n", "\t\t\t", 
        RowBox[{"MapIndexed", "[", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<UUIDMethod\>\"", "]"}], ",", "\n", 
          "\t\t\t\t", "types"}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"!", 
          RowBox[{"AllTrue", "[", 
           RowBox[{"uuids", ",", "StringQ"}], "]"}]}], ",", 
         RowBox[{
          RowBox[{"Message", "[", 
           RowBox[{
            RowBox[{"OFNewObject", "::", "uuids"}], ",", "uuids"}], "]"}], 
          ";", 
          RowBox[{"Throw", "[", "$Failed", "]"}]}]}], "]"}], ";", "\n", 
       "\t\t", 
       RowBox[{"objlist", "=", 
        RowBox[{"OFObject", "/@", "uuids"}]}], ";", "\n", "\t\t", 
       RowBox[{"AssociateTo", "[", 
        RowBox[{
         RowBox[{"$OFObjectTable", "[", "\"\<Objects\>\"", "]"}], ",", "\n", 
         "\t\t\t", 
         RowBox[{"MapThread", "[", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{"#3", "->", "\n", "\t\t\t\t\t", 
             RowBox[{"Join", "[", "\n", "\t\t\t\t\t\t", 
              RowBox[{"#", ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{"<|", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"\"\<ObjectType\>\"", "\[Rule]", "#2"}], ",", "\n", 
                 "\t\t\t\t\t\t\t", 
                 RowBox[{"\"\<ObjectID\>\"", "\[Rule]", "#3"}]}], "\n", 
                "\t\t\t\t\t\t\t", "|>"}]}], "\n", "\t\t\t\t\t\t", "]"}]}], 
            "&"}], ",", "\n", "\t\t\t\t", 
           RowBox[{"{", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"KeyDrop", "[", 
              RowBox[{"objs", ",", "\"\<ObjectInitializationArguments\>\""}], 
              "]"}], ",", "\n", "\t\t\t\t\t", "types", ",", "\n", 
             "\t\t\t\t\t", "uuids"}], "\n", "\t\t\t\t\t", "}"}]}], "]"}]}], 
        "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"OptionValue", "[", "\"\<Initialize\>\"", "]"}], ",", "\n", 
         "\t\t\t", 
         RowBox[{"MapThread", "[", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"Function", "[", 
            RowBox[{"#", "@@", "#2"}], "]"}], ",", "\n", "\t\t\t\t", 
           RowBox[{"{", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"OFLookup", "[", 
              RowBox[{
              "objlist", ",", "\"\<ObjectInitialization\>\"", ",", 
               "Identity"}], "]"}], ",", "\n", "\t\t\t\t\t", "args"}], "\n", 
            "\t\t\t\t\t", "}"}]}], "]"}]}], "\n", "\t\t\t", "]"}], ";", "\n", 
       "\t\t", "objlist"}]}], "\n", "\t", "]"}]}]}], ";"}]}], "Code",
 CellChangeTimes->{{3.710899404343636*^9, 3.7108994103416758`*^9}, {
   3.710899785788864*^9, 3.71089978631078*^9}, {3.710900070249958*^9, 
   3.710900095401045*^9}, 3.710948746569202*^9, {3.71095720414362*^9, 
   3.710957204158667*^9}, 3.710965398688718*^9, {3.710965470319043*^9, 
   3.710965472483848*^9}},ExpressionUUID->"bb733358-aaf9-4c65-ad48-\
f8667368fe0c"],

Cell[TextData[{
 "What this does is determines the type for each object, creates a new UUID \
for each, sticks ",
 Cell[BoxData[
  RowBox[{"UUID", " ", "\[Rule]", " ", "Association"}]], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "3dd223c9-4c57-4cdb-95b3-a24f0cb4c693"],
 " pairs into the ",
 Cell[BoxData["$OFObjectTable"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "2a893a99-a6c3-4251-aac7-2e5e852c6952"],
 " and then calls an ",
 Cell[BoxData["\"\<ObjectInitialization\>\""], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "fedcef68-5126-4a07-b5fc-121765f9efb8"],
 " function on each with some collection of passed arguments, assuming it\
\[CloseCurlyQuote]s been defined. Then it wraps all the new UUIDs in an ",
 Cell[BoxData["OFObject"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "ed10c181-494d-4947-85bd-46c34ff49a69"],
 " head and spits them back out."
}], "Text",
 CellChangeTimes->{{3.7108994138531523`*^9, 3.710899511546803*^9}, {
  3.7108995853117933`*^9, 3.710899596293069*^9}, {3.710900026353993*^9, 
  3.710900029248836*^9}, {3.710900088267786*^9, 
  3.71090011086975*^9}},ExpressionUUID->"1ee67109-41c3-4baa-8e40-\
a8d8d99fefa8"],

Cell[TextData[{
 "One thing to notice is that this is actually already boot-strapping. We \
call the standard object framework lookup function, ",
 Cell[BoxData["OFLookup"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "a4e963f7-c735-406c-af52-5d910675d874"],
 ", in the definition process."
}], "Text",
 CellChangeTimes->{{3.7108994138531523`*^9, 3.710899511546803*^9}, {
  3.7108995853117933`*^9, 3.710899596293069*^9}, {3.710900026353993*^9, 
  3.710900029248836*^9}, {3.710900088267786*^9, 
  3.71090015150596*^9}},ExpressionUUID->"b1deac2d-78b7-4bbc-8bd4-\
2d39304a6dd8"],

Cell["\<\
Then, since making new objects like this is a little bit unwieldy to use, we\
\[CloseCurlyQuote]ll put some syntactic sugar on it:\
\>", "Text",
 CellChangeTimes->{{3.7108999095126762`*^9, 3.71089995645254*^9}, {
  3.710900156002027*^9, 
  3.710900174433613*^9}},ExpressionUUID->"2f0222d9-d73e-48c0-936a-\
22560eac71bb"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"OFNewObject", "[", 
    RowBox[{"a", ":", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"_String", "\[Rule]", "_Association"}], ")"}], "|", 
         "_String"}], ")"}], ".."}], "}"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"OFNewObject", "@", "\n", "\t\t", 
    RowBox[{"Map", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "[", "#", "]"}], "\[Equal]", "2"}], ",", "\n", 
         "\t\t\t\t", 
         RowBox[{"Append", "[", 
          RowBox[{
           RowBox[{"#", "[", 
            RowBox[{"[", "2", "]"}], "]"}], ",", 
           RowBox[{"\"\<ObjectType\>\"", "\[Rule]", 
            RowBox[{"#", "[", 
             RowBox[{"[", "1", "]"}], "]"}]}]}], "]"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"<|", 
          RowBox[{"\"\<ObjectType\>\"", "\[Rule]", "#"}], "|>"}]}], "\n", 
        "\t\t\t\t", "]"}], "&"}], ",", "\n", "\t\t\t", "a"}], "]"}]}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"OFNewObject", "[", 
    RowBox[{"a", ":", 
     RowBox[{"_Association", "|", "_String", "|", 
      RowBox[{"(", 
       RowBox[{"_String", "\[Rule]", "_Association"}], ")"}]}]}], "]"}], ":=",
    "\n", "\t", 
   RowBox[{"First", "@", 
    RowBox[{"OFNewObject", "[", 
     RowBox[{"{", "a", "}"}], "]"}]}]}], ";"}]}], "Code",
 CellChangeTimes->{
  3.7108999895329123`*^9, {3.710947510781654*^9, 3.710947512146677*^9}, {
   3.710957204168442*^9, 
   3.710957204180586*^9}},ExpressionUUID->"5858a648-aca8-49ff-916d-\
1c56286554e2"],

Cell["\<\
These two make creating new objects just a little bit nicer. \
\>", "Text",
 CellChangeTimes->{{3.710899991625197*^9, 3.710900016800605*^9}, {
   3.710947516009755*^9, 3.710947520361663*^9}, {3.710947681151556*^9, 
   3.710947684324009*^9}, 
   3.710948768456414*^9},ExpressionUUID->"a74e7a3f-cadb-4935-8edb-\
7471ccceaa24"],

Cell["Even the vectorized form is a little bit slow:", "Text",
 CellChangeTimes->{{3.710899991625197*^9, 3.710900016800605*^9}, {
  3.710947516009755*^9, 3.710947520361663*^9}, {3.710947681151556*^9, 
  3.710947684324009*^9}, {3.710948771233828*^9, 
  3.7109487806176434`*^9}},ExpressionUUID->"8a720fff-3454-42c2-a499-\
6fff5bab213a"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"RepeatedTiming", "[", 
   RowBox[{
    RowBox[{"objs", "=", 
     RowBox[{"OFNewObject", "[", 
      RowBox[{"ConstantArray", "[", 
       RowBox[{"\"\<Object\>\"", ",", "100000"}], "]"}], "]"}]}], ";"}], 
   "]"}], "//", "First"}]], "Code",
 CellChangeTimes->{{3.710945090168192*^9, 3.71094509711036*^9}, {
   3.710946670195485*^9, 3.710946686984242*^9}, {3.710947328687438*^9, 
   3.710947370338048*^9}, {3.71094769924002*^9, 3.710947717858466*^9}, 
   3.7109572041968117`*^9},ExpressionUUID->"31b1bcac-3ef0-4918-ad33-\
a3f7815e4e8b"],

Cell[BoxData["2.5532284999999999009`3."], "Output",ExpressionUUID->"1d2577b8-54da-4c2c-8591-6471d004b31f"]
}, Open  ]],

Cell["\<\
But that\[CloseCurlyQuote]s largely unavoidable. It can be sped up somewhat \
by providing precomputed UUIDs:\
\>", "Text",
 CellChangeTimes->{{3.71094772153835*^9, 3.710947729578477*^9}, {
  3.710948817764194*^9, 
  3.71094887644108*^9}},ExpressionUUID->"d3f62aea-ee4f-4654-805b-\
2eaef34af3cc"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"With", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"uuids", "=", 
     RowBox[{"ToString", "/@", 
      RowBox[{"Range", "[", "100000", "]"}]}]}], "}"}], ",", "\n", "\t", 
   RowBox[{
    RowBox[{"RepeatedTiming", "[", "\n", "\t\t", 
     RowBox[{
      RowBox[{"objs", "=", "\n", "\t\t\t", 
       RowBox[{"OFNewObject", "[", 
        RowBox[{
         RowBox[{"ConstantArray", "[", 
          RowBox[{"\"\<Object\>\"", ",", "100000"}], "]"}], ",", "\n", 
         "\t\t\t\t", 
         RowBox[{"\"\<UUIDMethod\>\"", "\[Rule]", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"uuids", "[", 
             RowBox[{"[", 
              RowBox[{"First", "@", "#2"}], "]"}], "]"}], "&"}], ")"}]}]}], 
        "\n", "\t\t\t\t", "]"}]}], ";"}], "]"}], "//", "First"}]}], "\n", 
  "\t", "]"}]], "Code",
 CellChangeTimes->{{3.710948880411701*^9, 3.710948934245007*^9}, {
   3.710949029645*^9, 3.710949030210384*^9}, 
   3.710957204209896*^9},ExpressionUUID->"87d92c7b-2ae5-4642-bc0c-\
f0a918639cff"],

Cell[BoxData["1.8161434999999999107`3."], "Output",
 CellChangeTimes->{{3.7109490327062483`*^9, 
  3.71094903303135*^9}},ExpressionUUID->"f22f0af4-ab50-4a66-bcc6-\
cc0a243d3fed"]
}, Open  ]],

Cell["Or by specifying no initialization should happen:", "Text",
 CellChangeTimes->{{3.710949039724958*^9, 
  3.7109490576627893`*^9}},ExpressionUUID->"cecb3d14-fd14-43cb-9a0c-\
aa1e0e71107e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"RepeatedTiming", "[", "\n", "\t", 
   RowBox[{
    RowBox[{"objs", "=", "\n", "\t\t", 
     RowBox[{"OFNewObject", "[", 
      RowBox[{
       RowBox[{"ConstantArray", "[", 
        RowBox[{"\"\<Object\>\"", ",", "100000"}], "]"}], ",", "\n", "\t\t\t", 
       RowBox[{"\"\<Initialize\>\"", "\[Rule]", "False"}]}], "\n", "\t\t\t", 
      "]"}]}], ";"}], "]"}], "//", "First"}]], "Code",
 CellChangeTimes->{{3.710949065577702*^9, 3.7109490731829853`*^9}, 
   3.7109572042252817`*^9},ExpressionUUID->"5fa3c454-dd9b-42d0-9115-\
78e5b1ebad00"],

Cell[BoxData["1.9659649999999999626`3."], "Output",
 CellChangeTimes->{
  3.710949112619053*^9},ExpressionUUID->"2a0a599c-f388-4a15-91ae-\
4aa170eef40f"]
}, Open  ]],

Cell["But beyond that there\[CloseCurlyQuote]s not much one can do.", "Text",
 CellChangeTimes->{{3.7109491075870857`*^9, 
  3.710949169038405*^9}},ExpressionUUID->"b885d47f-4f29-4e9f-83b1-\
127089ad7a78"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Object Types, Part 1", "Subsubsection",
 CellChangeTimes->{{3.710898716577382*^9, 3.710898740815608*^9}, {
  3.710900183515443*^9, 3.710900184273432*^9}, {3.710900409042959*^9, 
  3.710900414266944*^9}},ExpressionUUID->"22a9b703-4de3-459d-9038-\
663f1195c0cb"],

Cell[TextData[{
 "In our setup, types serve as meta objects, from which instances inherit \
property and are spawned. We\[CloseCurlyQuote]ll implement a \
single-inheritance scheme, since I\[CloseCurlyQuote]m lazy. Our types will \
live in the ",
 Cell[BoxData["\"\<Types\>\""], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "36962303-977a-4550-839b-e2cb1e0bd570"],
 " sub-",
 Cell[BoxData["Association"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "f641261f-d80a-4d50-9014-a53fef2f4873"],
 " of our ",
 Cell[BoxData["$OFObjectTable"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "ac678cb9-8a61-46fe-bae1-b1963b9676fb"],
 ". They will function almost exactly like objects, though."
}], "Text",
 CellChangeTimes->{{3.710900185387444*^9, 3.710900265648458*^9}, {
  3.710900295790633*^9, 
  3.71090033886873*^9}},ExpressionUUID->"98e7906e-22ba-48e5-bacd-\
05dacb911f14"],

Cell["We\[CloseCurlyQuote]ll get into a larger discussion about them later", \
"Text",
 CellChangeTimes->{{3.710900417994458*^9, 
  3.710900425106876*^9}},ExpressionUUID->"d6096437-002d-400d-80f6-\
4e5215488fea"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Object Basics", "Subsection",
 CellChangeTimes->{{3.710901090422587*^9, 
  3.710901110349094*^9}},ExpressionUUID->"95a06430-821d-4964-b78a-\
0376166fb614"],

Cell[CellGroupData[{

Cell["Property Lookup", "Subsubsection",
 CellChangeTimes->{{3.710900431092263*^9, 3.7109004356746483`*^9}, 
   3.710901131164579*^9},ExpressionUUID->"f499eb4f-4aa7-4326-9399-\
804ae7474cd2"],

Cell[TextData[{
 "This is the heart of the project, from which everything else will derive. \
Our lookup will be implemented in a vectorized manner, layered on ",
 ButtonBox["Lookup",
  BaseStyle->"Link",
  ButtonData->"paclet:ref/Lookup"],
 ". Our base case will just be looking up a raw object ",
 Cell[BoxData["Association"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "2e16af1e-5c0c-4fb3-a1b9-a76315eb667d"],
 ". But first, since we noted our types will work like objects, we need a \
nice way to do lookups on either. The way we\[CloseCurlyQuote]ll do that is \
through a variable ",
 Cell[BoxData["$OFLookupGroup"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "cadde684-d40b-4dc8-a7d7-96b4be3882fd"],
 " which will be ",
 Cell[BoxData["\"\<Objects\>\""], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "757d1c81-3198-4a3c-9965-d860d0befecf"],
 " or ",
 Cell[BoxData["\"\<Types\>\""], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "4d6edee3-0811-442e-a1a4-baa14429ebf0"],
 ". Now for the raw data lookup:"
}], "Text",
 CellChangeTimes->{{3.710900440590417*^9, 3.710900487348311*^9}, {
  3.7109005210681257`*^9, 3.7109005521561823`*^9}, {3.710900599058105*^9, 
  3.710900677760203*^9}},ExpressionUUID->"f8dc3ead-38af-47ac-aec5-\
7f6ff5cf9b40"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"OFLookup", "[", 
    RowBox[{"k_String", "|", 
     RowBox[{"OFObject", "[", "k_String", "]"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Lookup", "[", 
    RowBox[{
     RowBox[{"$OFObjectTable", "[", "$OFLookupGroup", "]"}], ",", "k"}], 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"OFLookup", "[", 
    RowBox[{"k", ":", 
     RowBox[{"{", "__String", "}"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Lookup", "[", 
    RowBox[{
     RowBox[{"$OFObjectTable", "[", "$OFLookupGroup", "]"}], ",", "k"}], 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"OFLookup", "[", 
    RowBox[{"k", ":", 
     RowBox[{"{", "__OFObject", "}"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Lookup", "[", 
    RowBox[{
     RowBox[{"$OFObjectTable", "[", "$OFLookupGroup", "]"}], ",", 
     RowBox[{"First", "/@", "k"}]}], "]"}]}], ";"}]}], "Code",
 CellChangeTimes->{{3.710900437580812*^9, 3.7109004383883038`*^9}, {
  3.7109005409920073`*^9, 3.710900542956194*^9}, {3.710947637206546*^9, 
  3.71094764244499*^9}},ExpressionUUID->"86ad358d-7539-4c52-a2ce-\
5811c0d5285d"],

Cell["\<\
That\[CloseCurlyQuote]s trivial, of course, so we move on to a property \
lookup:\
\>", "Text",
 CellChangeTimes->{{3.710900554076744*^9, 3.7109005646834393`*^9}, {
  3.710900680782742*^9, 
  3.710900700606797*^9}},ExpressionUUID->"b2050a3a-e398-4ab4-8960-\
6012f92a2ad9"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"OFLookup", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"keys", ":", 
      RowBox[{"{", "__String", "}"}]}], ",", "p_", ",", "\n", "\t", 
     RowBox[{"default_:", 
      RowBox[{"Missing", "[", "\"\<KeyAbsent\>\"", "]"}]}]}], "]"}], ":=", 
   "\n", "\t", 
   RowBox[{"MapThread", "[", "\n", "\t\t", 
    RowBox[{"OFPostLookup", ",", "\n", "\t\t", 
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"OFRecursiveLookup", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"Lookup", "[", 
          RowBox[{
           RowBox[{"$OFObjectTable", "[", "$OFLookupGroup", "]"}], ",", 
           "keys"}], "]"}], ",", "\n", "\t\t\t\t", "p", ",", "\n", "\t\t\t\t",
          "default"}], "\n", "\t\t\t\t", "]"}], ",", "\n", "\t\t\t", "keys"}],
       "\n", "\t\t\t", "}"}]}], "\n", "\t\t", "]"}]}], ";"}]], "Code",
 CellChangeTimes->{3.7109007114023743`*^9, 
  3.710949339075642*^9},ExpressionUUID->"05a535a3-b4f3-45bd-b796-\
c13b13a9a347"],

Cell["\<\
Note that the heart of this is really missing. We need the following two \
functions to truly know what\[CloseCurlyQuote]s up. One for vectorized \
recursive lookups:\
\>", "Text",
 CellChangeTimes->{{3.710900729904407*^9, 3.7109007567876177`*^9}, {
  3.710900818721548*^9, 3.7109008246496887`*^9}, {3.710949412211903*^9, 
  3.710949414506454*^9}},ExpressionUUID->"79e960f7-2602-4cc1-8846-\
2da04cc22790"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"OFRecursiveLookup", "[", "\n", "\t", 
     RowBox[{
      RowBox[{"objs", ":", 
       RowBox[{"{", "__Association", "}"}]}], ",", "\n", "\t", "keys_", ",", 
      "\n", "\t", 
      RowBox[{"default_:", "$OFMissingKeyAbsent"}]}], "\n", "\t", "]"}], ":=",
     "\n", "\t", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", "\n", "\t\t", 
       RowBox[{
        RowBox[{"missingKey", "=", 
         RowBox[{"Unique", "[", "$OFMissingKeyAbsent", "]"}]}], ",", "\n", 
        "\t\t", 
        RowBox[{"types", "=", "\n", "\t\t\t", 
         RowBox[{"Lookup", "[", 
          RowBox[{"objs", ",", "\"\<ObjectType\>\"", ",", "\"\<Object\>\""}], 
          "]"}]}], ",", "\n", "\t\t", 
        RowBox[{"typeroot", "=", 
         RowBox[{"Lookup", "[", 
          RowBox[{
           RowBox[{"$OFObjectTable", "[", "\"\<Types\>\"", "]"}], ",", 
           "\"\<Object\>\"", ",", 
           RowBox[{"<|", "|>"}]}], "]"}]}]}], "\n", "\t\t", "}"}], ",", "\n", 
      "\t\t", 
      RowBox[{
       RowBox[{"types", "=", "\n", "\t\t\t", 
        RowBox[{"Lookup", "[", 
         RowBox[{
          RowBox[{"$OFObjectTable", "[", "\"\<Types\>\"", "]"}], ",", "types",
           ",", "typeroot"}], "]"}]}], ";", "\n", "\t\t", 
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"default", "===", "$OFMissingKeyAbsent"}], ",", "\n", 
          "\t\t\t", 
          RowBox[{"Map", "[", "\n", "\t\t\t\t", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"ListQ", "@", "keys"}], ",", "\n", "\t\t\t\t\t", 
              RowBox[{"MapThread", "[", "\n", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{"#", "===", "missingKey"}], ",", "\n", 
                   "\t\t\t\t\t\t\t", 
                   RowBox[{"Missing", "[", 
                    RowBox[{"\"\<KeyAbsent\>\"", ",", "#2"}], "]"}], ",", 
                   "\n", "\t\t\t\t\t\t\t", "#"}], "\n", "\t\t\t\t\t\t\t", 
                  "]"}], "&"}], ",", "\n", "\t\t\t\t\t\t", 
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
                 RowBox[{"#", ",", "\n", "\t\t\t\t\t\t\t", "keys"}], "\n", 
                 "\t\t\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t\t\t", "]"}], ",", 
              "\n", "\t\t\t\t\t", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"#", "===", "missingKey"}], ",", "\n", "\t\t\t\t\t\t", 
                RowBox[{"Missing", "[", 
                 RowBox[{"\"\<KeyAbsent\>\"", ",", "keys"}], "]"}], ",", "\n",
                 "\t\t\t\t\t\t", "#"}], "\n", "\t\t\t\t\t\t", "]"}]}], "\n", 
             "\t\t\t\t\t", "]"}], "&"}], "\n", "\t\t\t\t", "]"}], ",", "\n", 
          "\t\t\t", "Identity"}], "\n", "\t\t\t", "]"}], "@", "\n", "\t\t\t", 
        
        RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"OFrecursiveLookupStep", "[", 
           RowBox[{
           "objs", ",", "types", ",", "keys", ",", "default", ",", 
            "missingKey", ",", "typeroot"}], "]"}], ",", "\n", "\t\t\t\t", 
          RowBox[{"missingKey", "\[Rule]", "default"}], ",", "\n", "\t\t\t\t", 
          RowBox[{"{", "2", "}"}]}], "\n", "\t\t\t\t", "]"}]}]}]}], "\n", 
     "\t\t", "]"}]}], ";"}], "\n", 
  RowBox[{"(*", 
   RowBox[{"Recursive", " ", "lookup", " ", "step"}], "*)"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"OFrecursiveLookupStep", "[", "\n", "\t", 
    RowBox[{
    "objs_", ",", "\n", "\t", "types_", ",", "\n", "\t", "keys_", ",", "\n", 
     "\t", "default_", ",", "\n", "\t", "missing_", ",", "\n", "\t", 
     "typeroot_"}], "\n", "\t", "]"}], ":=", "\n", "\t", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t", 
      RowBox[{
       RowBox[{"props", "=", 
        RowBox[{"Lookup", "[", 
         RowBox[{"objs", ",", "keys", ",", "missing"}], "]"}]}], ",", "\n", 
       "\t\t", "missingpos", ",", "\n", "\t\t", "objnew", ",", "\n", "\t\t", 
       "typenew"}], "\n", "\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"missingpos", "=", 
       RowBox[{"First", "/@", 
        RowBox[{"Position", "[", 
         RowBox[{"props", ",", "missing", ",", 
          RowBox[{"{", "1", "}"}]}], "]"}]}]}], ";", "\n", "\t\t", 
      RowBox[{"objnew", "=", 
       RowBox[{"DeleteCases", "[", 
        RowBox[{
         RowBox[{"types", "[", 
          RowBox[{"[", "missingpos", "]"}], "]"}], ",", "typeroot"}], "]"}]}],
       ";", "\n", "\t\t", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Length", "@", "objnew"}], "==", "0"}], ",", "\n", "\t\t\t", 
        "props", ",", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"typenew", "=", "\n", "\t\t\t\t", 
          RowBox[{"Lookup", "[", "\n", "\t", "\t\t\t\t", 
           RowBox[{
            RowBox[{"$OFObjectTable", "[", "\"\<Types\>\"", "]"}], ",", "\n", 
            "\t", "\t\t\t\t", 
            RowBox[{"Lookup", "[", 
             RowBox[{
             "objnew", ",", "\"\<ObjectType\>\"", ",", "\"\<Object\>\""}], 
             "]"}], ",", "\n", "\t", "\t\t\t\t", "typeroot"}], "\n", "\t", 
           "\t\t\t\t", "]"}]}], ";", "\n", "\t\t\t", 
         RowBox[{"ReplacePart", "[", 
          RowBox[{"props", ",", "\n", "\t\t\t\t", 
           RowBox[{"Thread", "[", "\n", "\t\t\t\t\t", 
            RowBox[{"missingpos", "->", "\n", "\t\t\t\t\t\t", 
             RowBox[{"OFrecursiveLookupStep", "[", 
              RowBox[{
              "objnew", ",", "typenew", ",", "keys", ",", "default", ",", 
               "missing", ",", "typeroot"}], "]"}]}], "\n", "\t\t\t\t\t", 
            "]"}]}], "\n", "\t\t\t\t", "]"}]}]}], "\n", "\t\t\t", "]"}]}]}], 
    "\n", "\t\t", "]"}]}], ";"}]}], "Code",
 CellChangeTimes->{{3.7109494074715147`*^9, 3.710949439653363*^9}, {
  3.710949526166729*^9, 
  3.710949533989129*^9}},ExpressionUUID->"d8f2f13b-162a-4bad-ae86-\
7a65b765ea13"],

Cell["And one for post-processing our lookups:", "Text",
 CellChangeTimes->{{3.710900814956778*^9, 3.710900830897678*^9}, {
  3.710900864274457*^9, 
  3.710900867928856*^9}},ExpressionUUID->"f182d029-0fbc-4dbb-afc2-\
0c66956f878b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"OFPostLookup", "[", 
    RowBox[{"e_OFMethod", ",", "id_"}], "]"}], ":=", "\n", "\t", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"$OFPrepMethods", "//", "TrueQ"}], ",", "\n", "\t\t", 
     RowBox[{"OFPrepMethod", "[", 
      RowBox[{"e", ",", "id"}], "]"}], ",", "\n", "\t\t", "e"}], "\n", "\t\t",
     "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"OFPostLookup", "[", 
    RowBox[{
     RowBox[{"l", ":", "_List"}], ",", "id_"}], "]"}], ":=", "\n", "\t", 
   RowBox[{
    RowBox[{
     RowBox[{"OFPostLookup", "[", 
      RowBox[{"#", ",", "id"}], "]"}], "&"}], "/@", "l"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"OFPostLookup", "[", 
     RowBox[{
      RowBox[{"e", ":", 
       RowBox[{"Except", "[", 
        RowBox[{"_OFMethod", "|", "_List"}], "]"}]}], ",", "id_"}], "]"}], ":=",
     "\n", "\t", "e"}], ";"}], "\n", 
  RowBox[{"(*", 
   RowBox[{"Method", " ", "binding"}], "*)"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"OFPrepMethod", "[", 
    RowBox[{
     RowBox[{"OFMethod", "[", 
      RowBox[{"f_", ",", "a_Association"}], "]"}], ",", "id_String"}], "]"}], 
   ":=", "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t", 
      RowBox[{
       RowBox[{"atts", "=", 
        RowBox[{"Lookup", "[", 
         RowBox[{"a", ",", "\"\<Attributes\>\"", ",", 
          RowBox[{"{", "HoldAllComplete", "}"}]}], "]"}]}], ",", "\n", "\t\t", 
       RowBox[{"autoEval", "=", 
        RowBox[{"Lookup", "[", 
         RowBox[{"a", ",", "\"\<Evaluate\>\"", ",", "False"}], "]"}]}], ",", 
       "\n", "\t\t", 
       RowBox[{"obj", "=", "\n", "\t\t\t", 
        RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"Lookup", "[", 
           RowBox[{"a", ",", "\"\<PassFirst\>\"", ",", 
            RowBox[{"OFObject", "@", "id"}]}], "]"}], ",", 
          RowBox[{"{", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{
             RowBox[{"OFType", "|", "\"\<ObjectType\>\""}], "\[RuleDelayed]", 
             "\n", "\t\t\t\t\t\t", 
             RowBox[{"OFType", "@", 
              RowBox[{"Lookup", "[", 
               RowBox[{
               "id", ",", "\"\<ObjectType\>\"", ",", "\"\<Object\>\""}], 
               "]"}]}]}], ",", "\n", "\t\t\t\t\t", 
            RowBox[{"None", ":>", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Sequence", "[", "]"}]}]}], "\n", "\t\t\t\t", "}"}]}], 
         "]"}]}]}], "}"}], ",", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{"autoEval", ",", "\n", "\t\t\t", 
       RowBox[{"f", "[", "obj", "]"}], ",", "\n", "\t\t\t", 
       RowBox[{"Function", "[", 
        RowBox[{"Null", ",", 
         RowBox[{"f", "[", 
          RowBox[{"obj", ",", "##"}], "]"}], ",", "atts"}], "]"}]}], "\n", 
      "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"OFPrepMethod", "[", 
    RowBox[{
     RowBox[{"OFMethod", "[", "f_", "]"}], ",", "id_String"}], "]"}], ":=", 
   "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"obj", "=", 
       RowBox[{"OFObject", "@", "id"}]}], "}"}], ",", "\n", "\t\t", 
     RowBox[{"Function", "[", 
      RowBox[{"Null", ",", 
       RowBox[{"f", "[", 
        RowBox[{"obj", ",", "##"}], "]"}], ",", "HoldAllComplete"}], "]"}]}], 
    "\n", "\t\t", "]"}]}], ";"}]}], "Code",
 CellChangeTimes->{
  3.7109008110457067`*^9, 3.7109494603156776`*^9, {3.7109495124778214`*^9, 
   3.7109495220853786`*^9}, 
   3.7109495640425243`*^9},ExpressionUUID->"28809812-9f62-4951-9025-\
f3757fcb8a2b"],

Cell[TextData[{
 "Where that ",
 Cell[BoxData["OFPrepMethod"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "51535dda-42ba-4137-8ab1-3dcac7375cec"],
 " is a function that will bind an ",
 Cell[BoxData["OFMethod"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "f4bdbc93-e0da-424f-8381-f993090f52f1"],
 " to an object instance via a pure ",
 Cell[BoxData["Function"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "914cc57e-9912-4881-a7aa-af57bab3a9df"]
}], "Text",
 CellChangeTimes->{{3.710900870500452*^9, 3.710900888640923*^9}, {
  3.7109009960569363`*^9, 
  3.710900998555977*^9}},ExpressionUUID->"89969ac7-9b55-4283-814d-\
42964e9b754f"],

Cell[TextData[{
 "Now we see where that ",
 Cell[BoxData[
 "\"\<ObjectType\>\""], "InlineInput",ExpressionUUID->
  "4f457609-5386-4f2e-8c9d-9bfbe60b6b6d"],
 " comes in. ",
 Cell[BoxData[
 "OFRecursiveLookup"], "InlineInput",ExpressionUUID->
  "f2c92828-e91b-4b61-80f7-ab844709adb0"],
 " will recurse through an object\[CloseCurlyQuote]s ancestors until it hits \
no more ancestors or it hits the property."
}], "Text",
 CellChangeTimes->{{3.710901006623987*^9, 3.710901072373949*^9}, {
  3.7109495732890167`*^9, 
  3.710949575062373*^9}},ExpressionUUID->"b904a076-6a53-41fe-9797-\
1d2c9f874429"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Application", "Subsubsection",
 CellChangeTimes->{{3.710901139876644*^9, 3.710901144212723*^9}, {
  3.710972499263928*^9, 
  3.710972500822893*^9}},ExpressionUUID->"9d03d41c-e185-4444-9530-\
3e6ee654a9e9"],

Cell[TextData[{
 "All of our setting / getting will be defined in terms of object mutations. \
The basic idea is that we\[CloseCurlyQuote]ll define a single function, ",
 Cell[BoxData[
 "OFApply"], "InlineInput",ExpressionUUID->
  "956346a2-d2c0-4dd0-87de-3168ced65479"],
 ", which will get parts of an object, and apply a function to them. And then \
do this in a vectorized way. We can then define a function ",
 Cell[BoxData["OFMutate"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "64674115-0f38-496c-b762-76f85858b34d"],
 " on that that automatically calls ",
 Cell[BoxData["Set"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "eb75d693-2163-472b-ab9c-b02fe73932fc"],
 " on the result."
}], "Text",
 CellChangeTimes->{{3.710901144909431*^9, 3.710901239755479*^9}, {
  3.7109725020993757`*^9, 
  3.710972553654447*^9}},ExpressionUUID->"ba3ce250-ad80-4559-bf73-\
6d5e3c6e9269"],

Cell[TextData[{
 "We\[CloseCurlyQuote]ll need, once again, a symbol to tell us whether we\
\[CloseCurlyQuote]re working with the ",
 Cell[BoxData[
 "\"\<Objects\>\""], "InlineInput",ExpressionUUID->
  "c4f7fce2-4ae0-401d-9e2c-58fe43eec79a"],
 " or ",
 Cell[BoxData[
 "\"\<Types\>\""], "InlineInput",ExpressionUUID->
  "890b6897-938b-4a04-983d-03984886fe54"],
 " which we\[CloseCurlyQuote]ll call ",
 Cell[BoxData[
 "$OFApplicationGroup"], "InlineInput",ExpressionUUID->
  "0eebd024-fa62-421b-9ab8-1d9df62e1d6d"],
 ". Then the heart of the function looks like this:"
}], "Text",
 CellChangeTimes->{{3.7109012592041483`*^9, 3.710901324216126*^9}, {
  3.710972566357202*^9, 
  3.710972570101742*^9}},ExpressionUUID->"5f3fab17-eef9-4ef0-b49a-\
6f3b153de235"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"OFApply", "[", 
    RowBox[{
     RowBox[{"k", ":", 
      RowBox[{"{", "__String", "}"}]}], ",", "f_"}], "]"}], ":=", "\n", "\t", 
   
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"$OFApplicationGroup", "=", "$OFApplicationGroup"}], "}"}], ",",
      "\n", "\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"KeyMemberQ", "[", 
          RowBox[{
           RowBox[{"$OFObjectTable", "[", "$OFApplicationGroup", "]"}], ",", 
           "#"}], "]"}], ",", "\n", "\t\t\t", 
         RowBox[{"f", "[", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"$OFObjectTable", "[", 
            RowBox[{"$OFApplicationGroup", ",", "#"}], "]"}], ",", "\n", 
           "\t\t\t\t", 
           RowBox[{"HoldPattern", "[", 
            RowBox[{"$OFObjectTable", "[", 
             RowBox[{"$OFApplicationGroup", ",", "#"}], "]"}], "]"}]}], "\n", 
          "\t\t\t\t", "]"}], ",", "\n", "\t\t\t", 
         RowBox[{"Missing", "[", 
          RowBox[{"\"\<KeyAbsent\>\"", ",", "#"}], "]"}]}], "\n", "\t", 
        "\t\t", "]"}], "&"}], "/@", "k"}]}], "\n", "\t\t", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"OFApply", "[", 
    RowBox[{
     RowBox[{"k", ":", 
      RowBox[{"{", "__String", "}"}]}], ",", "p_", ",", "f_"}], "]"}], ":=", 
   "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"$OFApplicationGroup", "=", "$OFApplicationGroup"}], "}"}], ",",
      "\n", "\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"KeyMemberQ", "[", 
          RowBox[{
           RowBox[{"$OFObjectTable", "[", "$OFApplicationGroup", "]"}], ",", 
           "#"}], "]"}], ",", "\n", "\t\t\t", 
         RowBox[{"f", "[", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"OFLookup", "[", 
            RowBox[{"#", ",", "p"}], "]"}], ",", "\n", "\t\t\t\t", 
           RowBox[{"HoldPattern", "[", 
            RowBox[{"$OFObjectTable", "[", 
             RowBox[{"$OFApplicationGroup", ",", "#", ",", "p"}], "]"}], 
            "]"}]}], "\n", "\t\t\t\t", "]"}], ",", "\n", "\t\t\t", 
         RowBox[{"Missing", "[", 
          RowBox[{"\"\<KeyAbsent\>\"", ",", "#"}], "]"}]}], "\n", "\t\t\t", 
        "]"}], "&"}], "/@", "k"}]}], "\n", "\t\t", "]"}]}], ";"}]}], "Code",
 CellChangeTimes->{3.710901325428484*^9, 3.710972590405739*^9, 
  3.710973785498247*^9, 
  3.7109755473404827`*^9},ExpressionUUID->"fe7ad609-9b75-404b-94e0-\
80058c44f310"],

Cell["\<\
Where we actually have two different cases. One where \
there\[CloseCurlyQuote]s no property to apply to, and one where there is. \
Branching it like this simplifies the definition process and lets us speed up \
each. Note that the actual group to be assigned to is passed in the second \
symbol, to make things easier in setting, etc.\
\>", "Text",
 CellChangeTimes->{{3.710901332389735*^9, 3.7109013886656847`*^9}, 
   3.710950385209215*^9, {3.7109725954736023`*^9, 3.710972596440476*^9}, {
   3.710975579655302*^9, 
   3.710975609427446*^9}},ExpressionUUID->"6e38a3b1-3522-45b3-a82a-\
5b342be1a201"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Property Setting", "Subsubsection",
 CellChangeTimes->{{3.710901113558609*^9, 
  3.710901127831951*^9}},ExpressionUUID->"78b19f10-b745-4623-a08a-\
60d2c51b8ee0"],

Cell[TextData[{
 "We can then define a ",
 Cell[BoxData[
 "OFSet"], "InlineInput",ExpressionUUID->
  "a0d95f5b-3a14-480a-a050-1a3cdb3bf9fa"],
 " function and friends off of an ",
 Cell[BoxData[
 "OFApply"], "InlineInput",ExpressionUUID->
  "231ac789-3b6b-4694-b0fb-67aebb92dfe8"],
 " call. In fact, the entire function is just this:"
}], "Text",
 CellChangeTimes->{{3.710901134023535*^9, 3.710901136037004*^9}, {
  3.7109014031970587`*^9, 3.710901443608779*^9}, {3.710972604828217*^9, 
  3.710972605852728*^9}},ExpressionUUID->"4eb0e924-a495-45c9-bc77-\
bea210795502"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"OFSet", "[", 
    RowBox[{
     RowBox[{"k", ":", "objectPattern"}], ",", 
     RowBox[{"p", ":", 
      RowBox[{"Except", "[", "_List", "]"}]}], ",", "v_"}], "]"}], ":=", "\n",
    "\t", 
   RowBox[{"OFApply", "[", 
    RowBox[{"k", ",", "p", ",", "\n", "\t\t", 
     RowBox[{"Function", "[", 
      RowBox[{"Null", ",", "\n", "\t\t\t", 
       RowBox[{"Set", "[", 
        RowBox[{"#2", ",", "v"}], "]"}], ",", "\n", "\t\t\t", "HoldFirst"}], 
      "\n", "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], ";"}]], "Code",
 CellChangeTimes->{3.710901446164156*^9, 3.710972703077242*^9, 
  3.710975679333584*^9},ExpressionUUID->"c01c0204-cd68-4fc1-8267-\
1eea6adedfb3"],

Cell[TextData[{
 "In fact, it\[CloseCurlyQuote]s just a ",
 Cell[BoxData[
 "Set"], "InlineInput",ExpressionUUID->"5629f7f5-279a-4b95-8cf6-06994f1417c3"],
 " delegate."
}], "Text",
 CellChangeTimes->{{3.710901451462349*^9, 3.7109014902189217`*^9}, {
  3.710949590340363*^9, 3.710949590753621*^9}, {3.710975685514613*^9, 
  3.710975688368647*^9}},ExpressionUUID->"082e8d98-b7a9-40ae-aaeb-\
2c212cd9c1ff"],

Cell[TextData[{
 "And then we can define a number of other such delegates, say for ",
 Cell[BoxData["SetDelayed"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "e86bc311-25d7-47f3-8505-829d0c391618"]
}], "Text",
 CellChangeTimes->{{3.71095039360084*^9, 
  3.710950422754582*^9}},ExpressionUUID->"a38729ae-98cf-4b73-bafd-\
7af21f9b9dc9"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"OFSetDelayed", "[", 
    RowBox[{
     RowBox[{"k", ":", "objectPattern"}], ",", "p_", ",", "v_"}], "]"}], ":=",
    "\n", "\t", 
   RowBox[{"OFApply", "[", 
    RowBox[{"k", ",", "p", ",", "\n", "\t\t", 
     RowBox[{"Function", "[", 
      RowBox[{"Null", ",", "\n", "\t\t\t", 
       RowBox[{"SetDelayed", "[", 
        RowBox[{"#2", ",", "v"}], "]"}], ",", "\n", "\t\t\t", 
       "HoldAllComplete"}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], 
  ";"}], "\n", 
 RowBox[{"OFSetDelayed", "~", "SetAttributes", "~", 
  "HoldAllComplete"}]}], "Code",
 CellChangeTimes->{{3.710950414337358*^9, 3.710950416045931*^9}, 
   3.710972714597205*^9, 
   3.7109756720620337`*^9},ExpressionUUID->"d63f8e87-c043-46f6-914f-\
9f714ea2cd0f"],

Cell[TextData[{
 "Or a threaded ",
 Cell[BoxData["Set"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "cf603b4f-fc58-4743-a1fa-85ce6d976831"],
 " (with a delayed companion):"
}], "Text",
 CellChangeTimes->{{3.7109504242002172`*^9, 
  3.710950436277595*^9}},ExpressionUUID->"a58bb6aa-6644-40f5-bc03-\
6334109a1ca2"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"OFSetThread", "[", 
    RowBox[{
     RowBox[{"k", ":", "objectPattern"}], ",", "p_", ",", "v_"}], "]"}], ":=",
    "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"base", "=", 
       RowBox[{"Thread", "[", 
        RowBox[{"p", "->", "v"}], "]"}]}], "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"OFApply", "[", 
       RowBox[{"k", ",", "\n", "\t\t\t", 
        RowBox[{"Function", "[", 
         RowBox[{"Null", ",", "\n", "\t\t\t\t", 
          RowBox[{"AssociateTo", "[", 
           RowBox[{
            RowBox[{"Evaluate", "@", 
             RowBox[{"Extract", "[", 
              RowBox[{"#2", ",", "1", ",", "Unevaluated"}], "]"}]}], ",", 
            "base"}], "]"}], ",", "\n", "\t\t\t\t", "HoldAllComplete"}], "\n",
          "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
      "v"}]}], "\n", "\t\t", "]"}]}], ";"}]], "Code",
 CellChangeTimes->{3.71095044340064*^9, 3.710972719613696*^9, 
  3.71097566680649*^9},ExpressionUUID->"372ab77a-9bab-413b-8091-71665269ef07"],

Cell[TextData[{
 "Or on a ",
 Cell[BoxData["Part"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "683da2e5-0eba-47ff-a426-4cb59a50bbd2"],
 " (again, with a delayed companion)"
}], "Text",
 CellChangeTimes->{{3.710950449706223*^9, 3.7109504522179937`*^9}, {
  3.710975694744635*^9, 
  3.7109757000172453`*^9}},ExpressionUUID->"7afb4aed-179f-46e4-bd17-\
a97029ad0b52"],

Cell[BoxData[
 RowBox[{
  RowBox[{"OFSetPart", "[", 
   RowBox[{
    RowBox[{"k", ":", "objectPattern"}], ",", "key_", ",", "parts__", ",", 
    "value_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"OFApply", "[", 
   RowBox[{"k", ",", "key", ",", "\n", "\t\t", 
    RowBox[{"Function", "[", 
     RowBox[{"Null", ",", "\n", "\t\t\t", 
      RowBox[{"Replace", "[", 
       RowBox[{
        RowBox[{"Unevaluated", "[", "#", "]"}], ",", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"HoldPattern", "[", 
          RowBox[{"$OFObjectTable", "[", "p__", "]"}], "]"}], ":>", "\n", 
         "\t\t\t\t\t", 
         RowBox[{"Set", "[", 
          RowBox[{
           RowBox[{"$OFObjectTable", "[", 
            RowBox[{"[", 
             RowBox[{"p", ",", "parts"}], "]"}], "]"}], ",", "value"}], 
          "]"}]}]}], "\n", "\t\t\t\t", "]"}], ",", "\n", "\t\t\t", 
      "HoldAllComplete"}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", 
   "]"}]}]], "Code",
 CellChangeTimes->{3.710950453922469*^9, 3.710950512333271*^9, 
  3.710973013458602*^9},ExpressionUUID->"6ec2d34e-3f40-4729-be4a-\
6718d8519fc6"],

Cell["And so forth.", "Text",
 CellChangeTimes->{{3.71095053808154*^9, 
  3.7109505422779827`*^9}},ExpressionUUID->"1f30a976-922b-43c2-bfc1-\
27aa6d07a81c"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Simplified Mutation Syntax", "Subsubsection",
 CellChangeTimes->{{3.7109757077135897`*^9, 
  3.710975723601923*^9}},ExpressionUUID->"dd2251e7-ccc1-4c78-99c8-\
770a650dd55a"],

Cell[TextData[{
 "We can then take advantage of ",
 Cell[BoxData["Language`SetMutationHandler"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "5fc138ab-8c96-4132-972b-6962f2cf1bf5"],
 " to mutate these objects from a ",
 Cell[BoxData["Symbol"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "af49f0c9-e36f-4cb5-82dc-d532c73f5913"],
 " without going through an ",
 ButtonBox["Evaluate",
  BaseStyle->"Link",
  ButtonData->"paclet:ref/Evaluate"],
 " or ",
 ButtonBox["With",
  BaseStyle->"Link",
  ButtonData->"paclet:ref/With"],
 " call. First we define our handler (note that this is only a sample \
defintion):"
}], "Text",
 CellChangeTimes->{{3.710975724500742*^9, 3.710975730905141*^9}, {
  3.710975769994156*^9, 3.710975855157075*^9}, {3.710975904604908*^9, 
  3.7109759339253807`*^9}},ExpressionUUID->"a8be9d1c-3add-4bf0-beb7-\
e4210f458779"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
  "OFObjectMutationHandler", "~", "SetAttributes", "~", "HoldAllComplete"}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"OFObjectMutationHandler", "[", "\n", "\t", 
    RowBox[{"Set", "[", 
     RowBox[{
      RowBox[{"t", ":", 
       RowBox[{
        RowBox[{"sym_Symbol", "?", "OFTestObjectQ"}], "[", 
        RowBox[{"base___", ",", 
         RowBox[{"prop", ":", 
          RowBox[{"Except", "[", "_List", "]"}]}]}], "]"}]}], ",", " ", 
      "newvalue_"}], "]"}], "\n", "\t", "]"}], ":=", "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"obj", "=", 
       RowBox[{"sym", "[", "base", "]"}]}], "}"}], ",", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"OFObjectQ", "[", "obj", "]"}], ",", "\n", "\t\t\t", 
       RowBox[{"OFSet", "[", 
        RowBox[{"obj", ",", "prop", ",", "newvalue"}], "]"}]}], "\n", 
      "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], ";"}]}], "Code",
 CellChangeTimes->{
  3.7109758305731277`*^9, {3.710975927430315*^9, 
   3.710975945503829*^9}},ExpressionUUID->"0128cbce-8919-4887-a011-\
cfe466fbdec0"],

Cell["And then we set it:", "Text",
 CellChangeTimes->{{3.7109759358313017`*^9, 
  3.710975939692569*^9}},ExpressionUUID->"6967100d-9c08-45dc-bd00-\
355e764b6ce4"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Language`SetMutationHandler", "[", 
   RowBox[{"OFObject", ",", " ", "OFObjectMutationHandler"}], "]"}], 
  ";"}]], "Code",
 CellChangeTimes->{
  3.710975958759666*^9},ExpressionUUID->"f81ab9ab-01ba-4eb6-af49-\
3db96e46d906"],

Cell["\<\
And with that we can easily mutate our object with calls of the form:\
\>", "Text",
 CellChangeTimes->{{3.710975961125338*^9, 
  3.710975997587922*^9}},ExpressionUUID->"27afd049-bb3d-4d89-a7d0-\
6125455006c8"],

Cell[BoxData[
 RowBox[{
  RowBox[{"obj", "[", "\"\<prop\>\"", "]"}], "=", "val"}]], "Code",
 CellChangeTimes->{{3.710975973059051*^9, 
  3.710975989317051*^9}},ExpressionUUID->"386298ee-3d9d-4f32-9c5b-\
b27ccd5cc48c"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Other Bits and Pieces", "Subsubsection",
 CellChangeTimes->{{3.7109505504134083`*^9, 
  3.710950573213447*^9}},ExpressionUUID->"96a7c688-0122-401e-8b24-\
6be73912bd38"],

Cell[TextData[{
 "A number of other interface functions are implemented, including ",
 Cell[BoxData["AddTo"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "387cff86-9de4-43df-abe4-5b7b63d00062"],
 ", ",
 Cell[BoxData["SubtractFrom"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "b34beef9-a2d7-4d0f-8c4f-613a6e3a9f43"],
 ", ",
 Cell[BoxData["Join"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "4c39af98-34de-4bd0-9feb-25f2ad8d2137"],
 ", ",
 Cell[BoxData["Merge"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "a5c7395d-76cf-49d5-9f0c-dc56ecebe98c"],
 ", ",
 Cell[BoxData["Map"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "2bae3a36-8b9c-4492-8a37-3c66db8bde25"],
 " etc."
}], "Text",
 CellChangeTimes->{{3.710950578240687*^9, 
  3.710950623577935*^9}},ExpressionUUID->"f8ada34e-624c-4b88-9115-\
990967b1a945"],

Cell[TextData[{
 "Similarly, as is visible in the ",
 Cell[BoxData["OFPostLookup"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "d4dfe8fb-0b4f-497d-9adc-c7725476488f"],
 " function, there is a special head called ",
 Cell[BoxData["OFMethod"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "f838a323-a118-4e13-ac01-1aa13c605450"],
 " which binds to an object instance as a function and which can take an ",
 Cell[BoxData["Association"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "4a8f4b9c-e3e4-4031-965f-b7435cfd4700"],
 " as its second argument, which allows it to be treated as a python property \
in terms of auto-calling."
}], "Text",
 CellChangeTimes->{{3.71096051163767*^9, 
  3.710960596273451*^9}},ExpressionUUID->"e58997b4-dc7b-4a43-883c-\
388eae02c798"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Types", "Subsection",
 CellChangeTimes->{{3.710950628756043*^9, 3.7109506367482567`*^9}, {
   3.710951024568602*^9, 3.71095103501379*^9}, 
   3.7109604894675217`*^9},ExpressionUUID->"1e497613-c7ca-45fd-8abd-\
9f8808468854"],

Cell[CellGroupData[{

Cell["Creating Types", "Subsubsection",
 CellChangeTimes->{{3.710956225376727*^9, 
  3.710956231416807*^9}},ExpressionUUID->"63a50dfb-9811-473c-87c6-\
511f83929244"],

Cell["\<\
As noted previously, we\[CloseCurlyQuote]re treating types as objects, so we\
\[CloseCurlyQuote]ll need a way to construct new types as well. Note, though, \
that this will is much simpler than making objects, as they need not be \
initialized and don\[CloseCurlyQuote]t need unique keys.\
\>", "Text",
 CellChangeTimes->{{3.710951042134636*^9, 3.710951043573696*^9}, {
  3.7109562223147163`*^9, 3.7109562238891172`*^9}, {3.7109562911310043`*^9, 
  3.7109563420805264`*^9}, {3.710956714751933*^9, 
  3.710956745071385*^9}},ExpressionUUID->"4b2bce73-7dd2-419e-8719-\
86e7b2c4503a"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"OFNewType", "[", 
    RowBox[{"a", ":", 
     RowBox[{"{", "__Association", "}"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Catch", "@", "\n", "\t", 
    RowBox[{"With", "[", 
     RowBox[{
      RowBox[{"{", "\n", "\t\t", 
       RowBox[{"names", "=", "\n", "\t\t\t", 
        RowBox[{"Lookup", "[", "\n", "\t", "\t\t\t", 
         RowBox[{"a", ",", "\n", "\t\t\t\t", "\"\<ObjectTypeName\>\""}], "\n",
          "\t\t\t\t", "]"}]}], "\n", "\t\t", "}"}], ",", "\n", "\t\t", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"!", 
          RowBox[{"AllTrue", "[", 
           RowBox[{"names", ",", "StringQ"}], "]"}]}], ",", 
         RowBox[{
          RowBox[{"Message", "[", 
           RowBox[{
            RowBox[{"OFNewType", "::", "names"}], ",", "names"}], "]"}], ";", 
          
          RowBox[{"Throw", "@", "$Failed"}]}]}], "]"}], ";", "\n", "\t\t", 
       RowBox[{"AssociateTo", "[", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"$OFObjectTable", "[", "\"\<Types\>\"", "]"}], ",", "\n", 
         "\t\t\t", 
         RowBox[{"Thread", "[", 
          RowBox[{"names", "\[Rule]", "a"}], "]"}]}], "\n", "\t\t\t", 
        "]"}]}]}], "\n", "\t\t", "]"}]}]}], ";"}]], "Code",
 CellChangeTimes->{{3.7109567473476143`*^9, 
  3.710956752122849*^9}},ExpressionUUID->"8b02e953-87ce-43f2-a392-\
a26246b09940"],

Cell["\<\
And again we\[CloseCurlyQuote]ll provide some more convenient, non-vectorized \
syntax:\
\>", "Text",
 CellChangeTimes->{{3.7109567528035393`*^9, 
  3.710956769727015*^9}},ExpressionUUID->"bb33860c-709b-4241-b77d-\
66bf8017f0ad"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"OFNewType", "[", "a_Association", "]"}], ":=", "\n", "\t", 
   RowBox[{"First", "@", 
    RowBox[{"OFNewType", "[", 
     RowBox[{"{", "a", "}"}], "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"OFNewType", "[", 
   RowBox[{"name_String", ",", 
    RowBox[{"a", ":", "_Association", ":", 
     RowBox[{"<|", "|>"}]}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{"OFNewType", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"Append", "[", 
     RowBox[{"a", ",", 
      RowBox[{"\"\<ObjectTypeName\>\"", "\[Rule]", "name"}]}], "]"}], ";"}], 
   "\n", "\t\t", "]"}]}]}], "Code",
 CellChangeTimes->{{3.7109567473476143`*^9, 
  3.710956752122849*^9}},ExpressionUUID->"439525a5-f943-45f5-a462-\
c43a7dd180fb"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Type Instantiation", "Subsubsection",
 CellChangeTimes->{{3.710956845020957*^9, 
  3.71095685359552*^9}},ExpressionUUID->"d8adaffa-4068-418d-9534-\
b702a76946fc"],

Cell[TextData[{
 "So we have an object creation syntax, but it\[CloseCurlyQuote]s worth \
having this be derivable from an ",
 Cell[BoxData["OFType"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "e3148971-63f8-4aa4-8fd6-9c33eee2e932"],
 " as well. The simplest constructor would be simply to attach ",
 ButtonBox["SubValues",
  BaseStyle->"Link",
  ButtonData->"paclet:ref/SubValues"],
 " to the ",
 Cell[BoxData["OFType"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "d488b4e8-20d1-48d4-b646-93b5416e145c"],
 " symbol:"
}], "Text",
 CellChangeTimes->{{3.7109568545013533`*^9, 3.710956935189093*^9}, {
  3.710957000864162*^9, 3.7109570352152042`*^9}, {3.710957398046237*^9, 
  3.7109574038376637`*^9}},ExpressionUUID->"663b40af-c8e1-4f76-b271-\
c0e75dc0b5a5"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"OFType", "[", "type_", "]"}], "[", "args___", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"OFNewObject", "[", 
   RowBox[{"<|", "\n", "\t\t", 
    RowBox[{
     RowBox[{"\"\<ObjectType\>\"", "\[Rule]", "type"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<ObjectInitializationArguments\>\"", "->", 
      RowBox[{"HoldComplete", "[", "args", "]"}]}]}], "\n", "\t\t", "|>"}], 
   "]"}]}]], "Code",
 CellChangeTimes->{{3.710956940006118*^9, 3.7109569570683937`*^9}, {
   3.71095699247266*^9, 3.710956998329424*^9}, {3.710957029954616*^9, 
   3.710957051078806*^9}, 3.71095720413243*^9, {3.710957245871118*^9, 
   3.710957249015047*^9}, {3.710959429498283*^9, 
   3.710959434423368*^9}},ExpressionUUID->"5aec0503-aaae-49b6-94f1-\
819f7cb8f809"],

Cell[TextData[{
 "The issue is that ",
 Cell[BoxData["SubValues"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "98c42725-b6b8-4ef1-8288-d22538f55c1f"],
 " of course cannot have ",
 ButtonBox["Attributes",
  BaseStyle->"Link",
  ButtonData->"paclet:ref/Attributes"],
 " so we can\[CloseCurlyQuote]t hold the arguments, and we can\
\[CloseCurlyQuote]t vectorize this. So we\[CloseCurlyQuote]ll also build a \
more robust version, deviating from python syntax, using an ",
 Cell[BoxData["OFNewObject"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "30156a16-c662-49f4-8da8-99fd90deb4cc"],
 " call:"
}], "Text",
 CellChangeTimes->{{3.71095724189157*^9, 3.710957243438757*^9}, {
  3.710957359853405*^9, 3.710957361885597*^9}, {3.710957409084628*^9, 
  3.7109574519351187`*^9}, {3.710957642829893*^9, 3.710957651491954*^9}, {
  3.7109576828065243`*^9, 3.710957820465416*^9}, {3.710958216276682*^9, 
  3.7109582404825277`*^9}, {3.710959439895097*^9, 
  3.7109594401594*^9}},ExpressionUUID->"adadf313-dedf-499e-83f7-48faa62e9360"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"OFNewObject", "[", 
    RowBox[{"types", ":", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{"Rule", "|", "RuleDelayed"}], ")"}], "[", 
        RowBox[{"_OFType", ",", "_"}], "]"}], ".."}], "}"}]}], "]"}], ":=", 
   "\n", "\t", 
   RowBox[{"OFNewObject", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{
      RowBox[{"<|", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"\"\<ObjectType\>\"", "\[Rule]", "\n", "\t\t\t\t", 
         RowBox[{"#", "[", 
          RowBox[{"[", 
           RowBox[{"1", ",", "1"}], "]"}], "]"}]}], ",", "\n", "\t\t\t", 
        RowBox[{
        "\"\<ObjectInitializationArguments\>\"", "\[Rule]", "\n", "\t\t\t\t", 
         
         RowBox[{"Extract", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
          "#", ",", "\n", "\t\t\t\t\t", "2", ",", "\n", "\t\t\t\t\t", 
           RowBox[{"Function", "[", 
            RowBox[{"Null", ",", "\n", "\t", "\t\t\t\t\t", 
             RowBox[{"Replace", "[", 
              RowBox[{
               RowBox[{"HoldComplete", "[", "#", "]"}], ",", 
               RowBox[{
                RowBox[{"HoldComplete", "[", 
                 RowBox[{"_", "[", "a___", "]"}], "]"}], "\[RuleDelayed]", 
                RowBox[{"HoldComplete", "[", "a", "]"}]}]}], "]"}], ",", "\n",
              "\t\t\t\t\t\t", "HoldAllComplete"}], "\n", "\t\t\t\t\t\t", 
            "]"}]}], "\n", "\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t", "|>"}], 
      "&"}], "/@", "types"}], "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"OFNewObject", "[", 
    RowBox[{"types", ":", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{"Rule", "|", "RuleDelayed"}], ")"}], "[", 
        RowBox[{"_OFType", ",", "_"}], "]"}], "|", 
       RowBox[{"_OFType", ".."}]}], "}"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"OFNewObject", "[", "\n", "\t\t", 
    RowBox[{"Replace", "[", 
     RowBox[{"types", ",", 
      RowBox[{"t_OFType", "\[RuleDelayed]", 
       RowBox[{"(", 
        RowBox[{"OFType", "\[Rule]", 
         RowBox[{"{", "}"}]}], ")"}]}], ",", "1"}], "]"}], "\n", "\t\t", 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"OFNewObject", "[", 
   RowBox[{"type", ":", 
    RowBox[{
     RowBox[{
      RowBox[{"(", 
       RowBox[{"Rule", "|", "RuleDelayed"}], ")"}], "[", 
      RowBox[{"_OFType", ",", "_"}], "]"}], "|", "_OFType"}]}], "]"}], ":=", 
  "\n", "\t", 
  RowBox[{"First", "@", 
   RowBox[{"OFNewObject", "[", 
    RowBox[{"{", "type", "}"}], "]"}]}]}]}], "Code",
 CellChangeTimes->{{3.7109578284652452`*^9, 3.710957831935895*^9}, 
   3.710960414510735*^9},ExpressionUUID->"db093117-dc49-4ea0-bec6-\
870271a8f724"],

Cell[TextData[{
 "This way arguments can easily be specified using ",
 ButtonBox["RuleDelayed",
  BaseStyle->"Link",
  ButtonData->"paclet:ref/RuleDelayed"],
 " syntax to get holding, and it\[CloseCurlyQuote]s a clear, vectorizable \
syntax."
}], "Text",
 CellChangeTimes->{{3.710960416196742*^9, 
  3.710960473136897*^9}},ExpressionUUID->"a69ec15f-cbbf-44c1-86fb-\
dcaef55ee35a"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Building a Type Constructor", "Subsection",
 CellChangeTimes->{{3.71095678908635*^9, 
  3.7109567963809853`*^9}},ExpressionUUID->"9e3a6b42-01e6-4483-b45d-\
baf8531a7e97"],

Cell[TextData[{
 "Having to specify a type as an ",
 Cell[BoxData["Association"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "1c6e9ef6-e269-404a-b856-ae6f8d812504"],
 " can be unwieldy, so we\[CloseCurlyQuote]ll build a package-like syntax for \
type definitions. The basic plan is to build and add to a construction stack \
until some end function is called, at which point it will unravel back out to \
a type."
}], "Text",
 CellChangeTimes->{{3.710960497880666*^9, 3.710960505419073*^9}, {
  3.710960608154125*^9, 
  3.7109606678960543`*^9}},ExpressionUUID->"17d6c643-60f4-4c4b-9567-\
6dea4ab7d720"],

Cell[CellGroupData[{

Cell["The Construction Stack", "Subsubsection",
 CellChangeTimes->{{3.710960671607192*^9, 
  3.710960675383507*^9}},ExpressionUUID->"7fb220bb-0614-4663-96d3-\
bfc6fee6c31d"],

Cell["\<\
This is a simple list to which pieces can be appended. We\[CloseCurlyQuote]ll \
instantiate it like so:\
\>", "Text",
 CellChangeTimes->{{3.710960676265686*^9, 
  3.710960704775341*^9}},ExpressionUUID->"a37c31e7-27ab-4d31-bfcd-\
88c57bb9b396"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$OFConstructorStack", "=", 
   RowBox[{"{", "}"}]}], ";"}]], "Code",
 CellChangeTimes->{{3.71096068504909*^9, 
  3.7109607075355053`*^9}},ExpressionUUID->"2452d1a7-c113-4b1d-a458-\
1568bb052e9a"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Begin", "Subsubsection",
 CellChangeTimes->{{3.7109607281791487`*^9, 
  3.71096073279865*^9}},ExpressionUUID->"15863609-7abc-41fe-b6db-\
64d4a68d6bae"],

Cell[TextData[{
 "We\[CloseCurlyQuote]ll then create a function like ",
 ButtonBox["BeginPackage",
  BaseStyle->"Link",
  ButtonData->"paclet:ref/BeginPackage"],
 " which will stick basic meta-information on the stack:"
}], "Text",
 CellChangeTimes->{{3.710960734337152*^9, 
  3.710960769935096*^9}},ExpressionUUID->"f4e845c2-9424-4650-aed0-\
9b6b1c3db0c3"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "OFBegin", "]"}], "=", 
   RowBox[{"{", "\n", "\t", 
    RowBox[{
     RowBox[{"\"\<Type\>\"", "\[Rule]", "\"\<Object\>\""}], ",", "\n", "\t", 
     RowBox[{"\"\<Construct\>\"", "\[Rule]", "\"\<Type\>\""}], ",", "\n", 
     "\t", 
     RowBox[{"\"\<Assign\>\"", "\[Rule]", "None"}]}], "\n", "\t", "}"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"OFBegin", "[", 
    RowBox[{
     RowBox[{"name", ":", 
      RowBox[{"Except", "[", 
       RowBox[{"_Rule", "|", "_RuleDelayed"}], "]"}]}], ",", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"AppendTo", "[", 
    RowBox[{"$OFConstructorStack", ",", "\n", "\t\t", 
     RowBox[{"<|", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"\"\<Name\>\"", "\[Rule]", "\n", "\t\t\t\t", 
        RowBox[{"Replace", "[", 
         RowBox[{"name", ",", 
          RowBox[{
           RowBox[{"None", "|", "Automatic"}], "\[RuleDelayed]", 
           RowBox[{"CreateUUID", "[", "\"\<Type-\>\"", "]"}]}]}], "]"}]}], 
       ",", "\n", "\t\t\t", 
       RowBox[{"\"\<Construct\>\"", "\[Rule]", "\n", "\t\t\t\t", 
        RowBox[{"Replace", "[", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<Construct\>\"", "]"}], ",", 
          RowBox[{
           RowBox[{"Except", "[", "\"\<Object\>\"", "]"}], "\[Rule]", 
           "\"\<Type\>\""}]}], "]"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"\"\<Assign\>\"", "\[Rule]", "\n", "\t\t\t\t", 
        RowBox[{"OptionValue", "[", "\"\<Assign\>\"", "]"}]}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"\"\<Fields\>\"", "\[Rule]", "\n", "\t\t\t\t", 
        RowBox[{"<|", "\n", "\t\t\t\t\t", 
         RowBox[{"\"\<ObjectType\>\"", "\[Rule]", "\n", "\t\t\t\t\t\t", 
          RowBox[{"Replace", "[", 
           RowBox[{
            RowBox[{"OptionValue", "[", "\"\<Type\>\"", "]"}], ",", "\n", 
            "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"_", "?", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Not", "@", 
                 RowBox[{"KeyMemberQ", "[", 
                  RowBox[{
                   RowBox[{"$OFObjectTable", "[", "\"\<Types\>\"", "]"}], ",",
                    "#"}], "]"}]}], "&"}], ")"}]}], "\[Rule]", 
             "\"\<Object\>\""}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}], "\n", 
         "\t\t\t\t\t", "|>"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"\"\<Methods\>\"", "\[Rule]", "\n", "\t\t\t\t", 
        RowBox[{"<|", "\n", "\t\t\t\t\t", "|>"}]}]}], "\n", "\t\t\t", 
      "|>"}]}], "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"OFBegin", "~", "SetAttributes", "~", "HoldRest"}], ";"}]}], "Code",\

 CellChangeTimes->{
  3.7109607635511227`*^9, {3.710960800781353*^9, 
   3.710960803059895*^9}},ExpressionUUID->"46cba635-6297-469a-ab74-\
aa08b2ac890d"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Stack Additions", "Subsubsection",
 CellChangeTimes->{{3.7109608201947603`*^9, 
  3.710960822161764*^9}},ExpressionUUID->"e3981841-12d8-402b-862e-\
af74b99ea09a"],

Cell["\<\
Then we have a function for sticking data on the stack. First one for fields:\
\
\>", "Text",
 CellChangeTimes->{{3.710960822802086*^9, 
  3.7109608522171097`*^9}},ExpressionUUID->"ffa964de-106b-4cee-8450-\
69f9fbd231ef"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"OFAddField", "[", 
    RowBox[{"name_", ",", "value_"}], "]"}], ":=", "\n", "\t", 
   RowBox[{"(", "\n", "\t\t", 
    RowBox[{
     RowBox[{"AssociateTo", "[", 
      RowBox[{
       RowBox[{"$OFConstructorStack", "[", 
        RowBox[{"[", 
         RowBox[{
          RowBox[{"-", "1"}], ",", "\"\<Fields\>\""}], "]"}], "]"}], ",", 
       "\n", "\t", "\t\t", 
       RowBox[{"name", "\[Rule]", "value"}]}], "\n", "\t\t\t", "]"}], ";"}], 
    "\n", "\t\t", ")"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"OFAddFieldDelayed", "[", 
    RowBox[{"name_", ",", "value_"}], "]"}], ":=", "\n", "\t", 
   RowBox[{"(", "\n", "\t\t", 
    RowBox[{
     RowBox[{"AssociateTo", "[", 
      RowBox[{
       RowBox[{"$OFConstructorStack", "[", 
        RowBox[{"[", 
         RowBox[{
          RowBox[{"-", "1"}], ",", "\"\<Fields\>\""}], "]"}], "]"}], ",", 
       "\n", "\t", "\t\t", 
       RowBox[{"name", ":>", "value"}]}], "\n", "\t", "\t\t", "]"}], ";"}], 
    "\n", "\t\t", ")"}]}], ";"}]}], "Code",
 CellChangeTimes->{
  3.710960831101111*^9},ExpressionUUID->"ac5afa80-ccaa-414a-b83c-\
8a8f485a345d"],

Cell["And one for methods:", "Text",
 CellChangeTimes->{{3.710960853290945*^9, 
  3.710960857280766*^9}},ExpressionUUID->"191abcd3-0a3a-48d0-b028-\
57521b429e65"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"OFAddMethod", "[", 
    RowBox[{"nameProvided_", ",", 
     RowBox[{"data", ":", "_Association", ":", 
      RowBox[{"<|", "|>"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"name", "=", "\n", "\t\t", 
       RowBox[{"Replace", "[", 
        RowBox[{"nameProvided", ",", "\n", "\t\t\t", 
         RowBox[{"s_String", "\[RuleDelayed]", "\n", "\t\t\t\t", 
          RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"StringReplace", "[", 
             RowBox[{"s", ",", 
              RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t", 
               RowBox[{
                RowBox[{
                 RowBox[{"\"\<__\>\"", "~~", 
                  RowBox[{"l", ":", 
                   RowBox[{"WordCharacter", ".."}]}], "~~", "\"\<__\>\""}], 
                 "\[RuleDelayed]", "\n", "\t\t\t\t\t\t\t", 
                 RowBox[{"\"\<Object\>\"", "<>", 
                  RowBox[{"ToUpperCase", "@", 
                   RowBox[{"StringTake", "[", 
                    RowBox[{"l", ",", "1"}], "]"}]}], "<>", 
                  RowBox[{"StringDrop", "[", 
                   RowBox[{"l", ",", "1"}], "]"}]}]}], ",", "\n", 
                "\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"\"\<__\>\"", "~~", 
                  RowBox[{"l", ":", 
                   RowBox[{"WordCharacter", ".."}]}]}], "\[RuleDelayed]", 
                 RowBox[{"PrivateKey", "[", "l", "]"}]}]}], "\n", 
               "\t\t\t\t\t\t", "}"}]}], "]"}], ",", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"StringExpression", "[", 
              RowBox[{"__", ",", "p_PrivateKey"}], "]"}], "\[RuleDelayed]", 
             "p"}]}], "\n", "\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t", "]"}]}], 
      "}"}], ",", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"KeyMemberQ", "[", 
        RowBox[{
         RowBox[{"$OFConstructorStack", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"-", "1"}], ",", "\"\<Methods\>\""}], "]"}], "]"}], ",", 
         "name"}], "]"}], ",", "\n", "\t", "\t\t", 
       RowBox[{
        RowBox[{"$OFConstructorStack", "[", 
         RowBox[{"[", 
          RowBox[{
           RowBox[{"-", "1"}], ",", "\"\<Methods\>\"", ",", "name", ",", 
           "\"\<Properties\>\""}], "]"}], "]"}], "=", "\n", "\t", "\t\t\t", 
        RowBox[{"Join", "[", "\n", "\t", "\t\t\t\t", 
         RowBox[{
          RowBox[{"$OFConstructorStack", "[", 
           RowBox[{"[", 
            RowBox[{
             RowBox[{"-", "1"}], ",", "\"\<Methods\>\"", ",", "name", ",", 
             "\"\<Properties\>\""}], "]"}], "]"}], ",", "\n", "\t", 
          "\t\t\t\t", "data"}], "\n", "\t", "\t\t\t\t", "]"}]}], ",", "\n", 
       "\t", "\t\t", 
       RowBox[{"AssociateTo", "[", 
        RowBox[{
         RowBox[{"$OFConstructorStack", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"-", "1"}], ",", "\"\<Methods\>\""}], "]"}], "]"}], ",", 
         "\n", "\t", "\t", "\t\t", 
         RowBox[{"name", "->", "\n", "\t", "\t", "\t\t\t", 
          RowBox[{"<|", "\n", "\t", "\t", "\t\t\t\t", 
           RowBox[{
            RowBox[{"\"\<Symbol\>\"", "\[Rule]", 
             RowBox[{"OFMethodSymbol", "[", "name", "]"}]}], ",", "\n", "\t", 
            "\t", "\t\t\t\t", 
            RowBox[{"\"\<Properties\>\"", "\[Rule]", "data"}]}], "\n", "\t", 
           "\t\t\t\t\t", "|>"}]}]}], "\n", "\t\t\t\t", "]"}]}], "\n", 
      "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], ";"}]], "Code",
 CellChangeTimes->{
  3.7109608599380617`*^9, {3.7109609572647057`*^9, 
   3.7109610032637167`*^9}},ExpressionUUID->"fa55d687-26af-469d-8fa2-\
5d3f06cffd03"],

Cell[TextData[{
 "Note that this uses something called ",
 Cell[BoxData["OFMethodSymbol"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "5623943a-f146-4413-8e2a-22a91e91a67a"],
 " which is defined like so:"
}], "Text",
 CellChangeTimes->{{3.710961024523143*^9, 
  3.710961039005892*^9}},ExpressionUUID->"c2e1e0f0-550a-4f3c-a143-\
af71e57d007e"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"OFMethodSymbol", "[", 
    RowBox[{"name_", ",", 
     RowBox[{"add", ":", 
      RowBox[{"True", "|", "False"}], ":", "False"}]}], "]"}], ":=", "\n", 
   "\t", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"KeyMemberQ", "[", 
      RowBox[{
       RowBox[{"$OFConstructorStack", "[", 
        RowBox[{"[", 
         RowBox[{
          RowBox[{"-", "1"}], ",", "\"\<Methods\>\""}], "]"}], "]"}], ",", 
       "name"}], "]"}], ",", "\n", "\t\t", 
     RowBox[{"$OFConstructorStack", "[", 
      RowBox[{"[", 
       RowBox[{
        RowBox[{"-", "1"}], ",", "\"\<Methods\>\"", ",", "name", ",", 
        "\"\<Symbol\>\""}], "]"}], "]"}], ",", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{"add", ",", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"OFAddMethod", "[", "name", "]"}], ";", "\n", "\t\t\t", 
        RowBox[{"OFMethodSymbol", "[", 
         RowBox[{"name", ",", "False"}], "]"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"Symbol", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"StringReplace", "[", 
          RowBox[{
           RowBox[{"ToString", "[", "name", "]"}], ",", 
           RowBox[{
            RowBox[{"Except", "[", 
             RowBox[{"WordCharacter", "|", "\"\<$\>\""}], "]"}], "\[Rule]", 
            "\"\<\>\""}]}], "]"}], "<>", "\n", "\t\t\t\t\t", "\"\<$\>\"", "<>", 
         RowBox[{"StringReplace", "[", 
          RowBox[{
           RowBox[{"CreateUUID", "[", "]"}], ",", 
           RowBox[{"\"\<-\>\"", "\[Rule]", "\"\<\>\""}]}], "]"}]}], "\n", 
        "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], 
  ";"}]], "Code",
 CellChangeTimes->{
  3.710961040388813*^9},ExpressionUUID->"ac2f4813-0ca6-41cd-8cb6-\
f50240e35883"],

Cell["\<\
Where it simply finds the symbol attached to a method on the stack. This will \
be more important later.\
\>", "Text",
 CellChangeTimes->{{3.710961132119326*^9, 3.7109611509022512`*^9}, {
  3.710961205699938*^9, 
  3.710961212530375*^9}},ExpressionUUID->"506167ff-5c34-4fd7-aa97-\
797d50311f03"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Method Construction", "Subsubsection",
 CellChangeTimes->{{3.710960832595319*^9, 3.710960833993424*^9}, {
  3.710960867721835*^9, 
  3.710960874576426*^9}},ExpressionUUID->"7f616f99-47da-492d-817d-\
b33d4c6eb1e6"],

Cell["\<\
This constructor is more powerful if we provide a method construction aide or \
two, so we\[CloseCurlyQuote]ll do just that. First we\[CloseCurlyQuote]ll set \
up something to track what methods we build:\
\>", "Text",
 CellChangeTimes->{{3.7109608769793253`*^9, 
  3.7109609281282043`*^9}},ExpressionUUID->"43691ded-668f-4969-8271-\
0e81a5c1b9bb"],

Cell[BoxData[
 RowBox[{
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"!", 
     RowBox[{"MatchQ", "[", 
      RowBox[{"$OFBuiltMethods", ",", "_Association"}], "]"}]}], ",", "\n", 
    "\t", 
    RowBox[{"$OFBuiltMethods", "=", 
     RowBox[{"<|", "|>"}]}]}], "\n", "\t", "]"}], ";"}]], "Code",
 CellChangeTimes->{
  3.710960934212916*^9},ExpressionUUID->"7898f177-bf62-432c-aacb-\
b4574c732e52"],

Cell["And then a function that actually builds a method:", "Text",
 CellChangeTimes->{{3.710960942098435*^9, 
  3.7109609539035597`*^9}},ExpressionUUID->"7de199c2-be89-4892-8b62-\
19279ff840fd"],

Cell[BoxData[
 RowBox[{
  RowBox[{"OFBuildMethod", "[", 
   RowBox[{"f_", ",", "data_Association"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{
      RowBox[{"a", "=", 
       RowBox[{"Lookup", "[", 
        RowBox[{"data", ",", "\"\<Attributes\>\"", ",", 
         RowBox[{"{", "}"}]}], "]"}]}], ",", "\n", "\t\t", 
      RowBox[{"o", "=", 
       RowBox[{"Lookup", "[", 
        RowBox[{"data", ",", "\"\<Options\>\"", ",", 
         RowBox[{"{", "}"}]}], "]"}]}]}], "\n", "\t\t", "}"}], ",", "\n", 
    "\t\t", 
    RowBox[{
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"MatchQ", "[", 
        RowBox[{"f", ",", "_Symbol"}], "]"}], ",", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{"Attributes", "[", "f", "]"}], "=", "a"}], ";", "\n", 
        "\t\t\t", 
        RowBox[{
         RowBox[{"Options", "[", "f", "]"}], "=", "o"}], ";"}]}], "\n", 
      "\t\t\t", "]"}], ";", "\n", "\t\t", 
     RowBox[{"OFMethod", "[", 
      RowBox[{"f", ",", 
       RowBox[{"KeyDrop", "[", 
        RowBox[{"data", ",", 
         RowBox[{"{", 
          RowBox[{"\"\<Attributes\>\"", ",", "\"\<Options\>\""}], "}"}]}], 
        "]"}]}], "]"}]}]}], "\n", "\t\t", "]"}]}]], "Code",
 CellChangeTimes->{
  3.710961169086671*^9},ExpressionUUID->"ca278d65-5e97-4f74-b696-\
f5fb4abfdf24"]
}, Open  ]],

Cell[CellGroupData[{

Cell["End", "Subsubsection",
 CellChangeTimes->{{3.710961251691174*^9, 
  3.71096125214548*^9}},ExpressionUUID->"1adff3bb-24f4-4592-8c98-\
861b15852692"],

Cell[TextData[{
 "Finally we\[CloseCurlyQuote]ll have a function that takes all that stack \
data and converts it into a type. It simply finds all of the properties, puts \
them into the ",
 Cell[BoxData["Association"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "7aa3f17d-9897-426b-a635-eeb8a08f41bd"],
 " that ",
 Cell[BoxData["OFNewType"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "97c9a19d-dcc0-4aaf-a37a-d6166a14b99f"],
 " expects, and sends it through."
}], "Text",
 CellChangeTimes->{{3.710961257884293*^9, 3.710961273505425*^9}, {
  3.710961363261891*^9, 
  3.710961395178446*^9}},ExpressionUUID->"bfd7214a-6df1-49ed-b170-\
a65284e505cb"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"OFEnd", "[", "]"}], ":=", "\n", "\t", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"Length", "@", "$OFConstructorStack"}], ">", "0"}], ",", "\n", 
     "\t\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"a", "=", 
         RowBox[{"Last", "@", "$OFConstructorStack"}]}], "}"}], ",", "\n", 
       "\t", "\t\t", 
       RowBox[{
        RowBox[{"$OFConstructorStack", "=", 
         RowBox[{"Delete", "[", 
          RowBox[{"$OFConstructorStack", ",", 
           RowBox[{"-", "1"}]}], "]"}]}], ";", "\n", "\t", "\t\t", 
        RowBox[{"With", "[", 
         RowBox[{
          RowBox[{"{", "\n", "\t", "\t\t\t", 
           RowBox[{
            RowBox[{"t", "=", 
             RowBox[{"a", "[", "\"\<Construct\>\"", "]"}]}], ",", "\n", "\t", 
            "\t\t\t", 
            RowBox[{"s", "=", 
             RowBox[{"a", "[", "\"\<Assign\>\"", "]"}]}], ",", "\n", "\t", 
            "\t\t\t", 
            RowBox[{"n", "=", 
             RowBox[{"a", "[", "\"\<Name\>\"", "]"}]}], ",", "\n", "\t", 
            "\t\t\t", 
            RowBox[{"f", "=", 
             RowBox[{"a", "[", "\"\<Fields\>\"", "]"}]}], ",", "\n", "\t", 
            "\t\t\t", 
            RowBox[{"m", "=", 
             RowBox[{
              RowBox[{
               RowBox[{"OFBuildMethod", "[", 
                RowBox[{"#Symbol", ",", "#Properties"}], "]"}], "&"}], "/@", 
              RowBox[{"a", "[", "\"\<Methods\>\"", "]"}]}]}]}], "\n", 
           "\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"$OFBuiltMethods", "=", "\n", "\t\t\t\t\t", 
            RowBox[{"Join", "[", 
             RowBox[{"$OFBuiltMethods", ",", "\n", "\t\t\t\t\t\t", 
              RowBox[{"AssociationMap", "[", 
               RowBox[{
                RowBox[{"Null", "&"}], ",", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"Values", "@", 
                 RowBox[{"a", "[", 
                  RowBox[{"[", 
                   RowBox[{
                   "\"\<Methods\>\"", ",", "All", ",", "\"\<Symbol\>\""}], 
                   "]"}], "]"}]}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}], "\n", 
             "\t\t\t\t\t\t", "]"}]}], ";", "\n", "\t\t\t\t", 
           RowBox[{"With", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"obj", "=", "\n", "\t", "\t\t\t\t", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"t", "\[Equal]", "\"\<Type\>\""}], ",", "\n", "\t", 
                 "\t", "\t\t\t\t", 
                 RowBox[{
                  RowBox[{"OFNewType", "[", 
                   RowBox[{"n", ",", 
                    RowBox[{"Join", "[", 
                    RowBox[{"f", ",", "m", ",", 
                    RowBox[{"<|", 
                    RowBox[{"\"\<ObjectTypeName\>\"", "\[Rule]", "n"}], 
                    "|>"}]}], "]"}]}], "]"}], ";", "\n", "\t\t\t\t\t\t", 
                  RowBox[{"OFType", "[", "n", "]"}]}], ",", "\n", 
                 "\t\t\t\t\t\t", 
                 RowBox[{"OFNewObject", "[", 
                  RowBox[{"Join", "[", 
                   RowBox[{"f", ",", "m", ",", 
                    RowBox[{"<|", 
                    RowBox[{"\"\<ObjectType\>\"", "\[Rule]", "n"}], "|>"}]}], 
                   "]"}], "]"}]}], "\n", "\t", "\t\t\t\t\t", "]"}]}], "\n", 
              "\t", "\t\t\t\t", "}"}], ",", "\n", "\t", "\t\t\t\t", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"s", "=!=", "None"}], ",", 
               RowBox[{"s", "=", "obj"}], ",", "s"}], "]"}]}], "\n", "\t", 
            "\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t", "]"}]}]}], "\n", 
      "\t\t\t", "]"}], ",", "\n", "\t\t", "None"}], "\n", "\t\t", "]"}]}], 
  ";"}]], "Code",
 CellChangeTimes->{
  3.710961275111121*^9, {3.710961405715158*^9, 3.7109614114037046`*^9}, {
   3.710963332848804*^9, 
   3.710963334361438*^9}},ExpressionUUID->"ddf32706-294d-4864-8872-\
c3e03e1ad9c9"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Constructor UpValues", "Subsubsection",
 CellChangeTimes->{{3.7109614991640797`*^9, 3.71096150569138*^9}, {
  3.710961580881267*^9, 
  3.710961582016859*^9}},ExpressionUUID->"411bc693-e8d5-448b-bbb4-\
5a5d1760861a"],

Cell[TextData[{
 "Generally we won\[CloseCurlyQuote]t want to use ",
 Cell[BoxData["OFAddField"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "38fd2fff-3014-4cac-8040-be83a7092274"],
 " or anything like that when we\[CloseCurlyQuote]re defining types. It\
\[CloseCurlyQuote]s just a little bit clumsy. Better, generally, is to define \
types in a similar style to how packages are built. What I mean is we\
\[CloseCurlyQuote]ll want some syntax like this:"
}], "Text",
 CellChangeTimes->{{3.710961583442988*^9, 
  3.710961699303893*^9}},ExpressionUUID->"e0a8a43d-a323-462b-a002-\
a9a850de9555"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"OFBegin", "[", "\"\<TypeName\>\"", "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"OFField", "[", "\"\<FieldName\>\"", "]"}], "=", "val"}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"SetOptions", "[", 
   RowBox[{
    RowBox[{"OFMethod", "[", "\"\<MethodName\>\"", "]"}], ",", 
    RowBox[{"{", "...", "}"}]}], "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"OFMethod", "[", "\"\<MethodName\>\"", "]"}], "[", "pats___", 
    "]"}], ":=", "code"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"OFEnd", "[", "]"}], ";"}]}], "Code",
 CellChangeTimes->{{3.7109617007611113`*^9, 3.710961718289207*^9}, {
  3.71096177058529*^9, 3.710961840865086*^9}, {3.710961909180929*^9, 
  3.7109619143951674`*^9}},ExpressionUUID->"865e2d70-6b86-457f-aca4-\
6eff1805e4a5"],

Cell[TextData[{
 "We can get set this up using ",
 Cell[BoxData["UpValues"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "f7a2fea3-bfe2-4118-8b27-006b2d3d15b3"],
 ". The actually ",
 Cell[BoxData["UpValues"], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "f4b5eb32-b2fe-48d4-99d0-7f63165556a8"],
 " used aren\[CloseCurlyQuote]t terribly interesting so \
we\[CloseCurlyQuote]ll leave them out here. You can look at the \
implementation package if you\[CloseCurlyQuote]re interested."
}], "Text",
 CellChangeTimes->{{3.710961508631427*^9, 3.7109615139151087`*^9}, 
   3.7109615785803633`*^9, {3.710961843054582*^9, 
   3.710961955943746*^9}},ExpressionUUID->"670f6648-43da-4265-af8d-\
039387dae576"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Magic Methods", "Subsubsection",
 CellChangeTimes->{{3.710961968376565*^9, 
  3.710961973159685*^9}},ExpressionUUID->"089fe0c7-925a-45b5-9b2d-\
739a82c28981"],

Cell[TextData[{
 "One last thing we\[CloseCurlyQuote]ll want are aliases for some so-called \
\[OpenCurlyDoubleQuote]magic methods\[CloseCurlyDoubleQuote]\[LongDash]things \
like ",
 Cell[BoxData["\"\<ObjectInitialization\>\""], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "562b10ea-052c-4104-9f4f-f92a6e9b31af"],
 " that the framework knows to look for and which define special hooks. At \
the moment there are three of these:"
}], "Text",
 CellChangeTimes->{{3.710961974681489*^9, 
  3.710962053445875*^9}},ExpressionUUID->"fdded8e8-a2c6-4c09-879f-\
4905396cdcb8"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"OFInit", "/:", "\n", "\t", 
   RowBox[{"HoldPattern", "[", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"s", ":", 
       RowBox[{"Set", "|", "SetDelayed"}]}], ")"}], "[", 
     RowBox[{
      RowBox[{"OFInit", "[", "p___", "]"}], ",", "code_"}], "]"}], "]"}], ":=",
    "\n", "\t\t", 
   RowBox[{"s", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"OFMethod", "[", "\"\<ObjectInitialization\>\"", "]"}], "[", 
      "p", "]"}], ",", "code"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"OFRepr", "/:", "\n", "\t", 
   RowBox[{"HoldPattern", "[", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"s", ":", 
       RowBox[{"Set", "|", "SetDelayed"}]}], ")"}], "[", 
     RowBox[{
      RowBox[{"OFRepr", "[", "p___", "]"}], ",", "code_"}], "]"}], "]"}], ":=",
    "\n", "\t\t", 
   RowBox[{"s", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"OFMethod", "[", "\"\<ObjectRepresentation\>\"", "]"}], "[", 
      "p", "]"}], ",", "code"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"OFStr", "/:", "\n", "\t", 
   RowBox[{"HoldPattern", "[", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"s", ":", 
       RowBox[{"Set", "|", "SetDelayed"}]}], ")"}], "[", 
     RowBox[{
      RowBox[{"OFStr", "[", "p___", "]"}], ",", "code_"}], "]"}], "]"}], ":=",
    "\n", "\t\t", 
   RowBox[{"s", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"OFMethod", "[", "\"\<ObjectString\>\"", "]"}], "[", "p", "]"}],
      ",", "code"}], "]"}]}], ";"}]}], "Code",
 CellChangeTimes->{
  3.710962058930044*^9},ExpressionUUID->"8a9357e9-930c-4bb2-a2aa-\
7c84e923b112"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["An Object Framework Example", "Section",
 CellChangeTimes->{{3.71096221132693*^9, 
  3.71096221637332*^9}},ExpressionUUID->"24143bc8-02c6-4c08-bb88-\
7e0211d83b3f"],

Cell[CellGroupData[{

Cell["Defining a Ball in a Box", "Subsection",
 CellChangeTimes->{{3.710973091515394*^9, 
  3.710973099217897*^9}},ExpressionUUID->"46cd0519-ca36-4b6a-ad50-\
4b2016ef5169"],

Cell["\<\
We\[CloseCurlyQuote]ll do a quick, simple example, where we define a \
ball-in-a-box class and just watch a ball bounce around a box:\
\>", "Text",
 CellChangeTimes->{{3.710962253051396*^9, 3.710962296741043*^9}, {
  3.7109623281751757`*^9, 3.7109623477318497`*^9}, {3.710962714458782*^9, 
  3.71096276579667*^9}, {3.710963287226471*^9, 3.710963314486401*^9}, {
  3.7109634259901743`*^9, 
  3.710963428318594*^9}},ExpressionUUID->"cbf91384-2586-445e-9ab0-\
8c1c632c84b5"],

Cell["First we begin the class:", "Text",
 CellChangeTimes->{{3.7109623660123043`*^9, 
  3.710962370337501*^9}},ExpressionUUID->"832cd27c-c385-4587-987d-\
f80b0879f3d2"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ballInABox", ":=", 
  RowBox[{"OFBegin", "[", "\"\<BallInABox\>\"", "]"}]}]], "Code",
 CellChangeTimes->{{3.7109623717691193`*^9, 3.7109623767937307`*^9}, {
  3.71096251258801*^9, 3.710962542883644*^9}, {3.7109627687652473`*^9, 
  3.710962772300528*^9}, {3.7109633193747187`*^9, 3.7109633264463987`*^9}, {
  3.710963403216097*^9, 
  3.7109634225428753`*^9}},ExpressionUUID->"fe899d07-5b4b-46f2-a37c-\
efd43a73e2c7"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\[LeftAssociation]", 
   RowBox[{
    RowBox[{"\<\"Name\"\>", "\[Rule]", "\<\"BallInABox\"\>"}], ",", 
    RowBox[{"\<\"Construct\"\>", "\[Rule]", "\<\"Type\"\>"}], ",", 
    RowBox[{"\<\"Assign\"\>", "\[Rule]", 
     RowBox[{"HoldPattern", "[", "ballInABox", "]"}]}], ",", 
    RowBox[{"\<\"Fields\"\>", "\[Rule]", 
     RowBox[{"\[LeftAssociation]", 
      RowBox[{"\<\"ObjectType\"\>", "\[Rule]", "\<\"Object\"\>"}], 
      "\[RightAssociation]"}]}], ",", 
    RowBox[{"\<\"Methods\"\>", "\[Rule]", 
     RowBox[{"\[LeftAssociation]", "\[RightAssociation]"}]}]}], 
   "\[RightAssociation]"}], "}"}]], "Output",
 CellChangeTimes->{
  3.7109623964871397`*^9, {3.7109625221655407`*^9, 3.710962543610126*^9}, 
   3.710962810044462*^9, 3.710963345457036*^9, 3.710963432384845*^9, 
   3.710965501340103*^9, 3.710973104440653*^9, 3.7109815591699457`*^9, 
   3.710982059186902*^9, {3.7109821690454473`*^9, 3.710982174151135*^9}, 
   3.71098237950121*^9},ExpressionUUID->"b44d756e-82a7-45d9-8a0e-\
2b5609689b42"]
}, Open  ]],

Cell["Add a default box and elasticity multiplier", "Text",
 CellChangeTimes->{{3.710963565967533*^9, 
  3.7109635870943527`*^9}},ExpressionUUID->"4b8d2eef-245f-45fe-be99-\
b38285a01881"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"OFField", "[", "\"\<Box\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"-", "5"}], ",", "5"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"-", "5"}], ",", "5"}], "}"}]}], "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"OFField", "[", "\"\<ElasticityMultiplier\>\"", "]"}], "=", "1"}], 
  ";"}]}], "Code",
 CellChangeTimes->{{3.710963561243678*^9, 3.710963613965733*^9}, 
   3.7109820549423018`*^9},ExpressionUUID->"895dd6c8-ce9c-4dae-9308-\
a242b098aafe"],

Cell[TextData[{
 "Define a ",
 Cell[BoxData["\"\<Step\>\""], "InlineInput",
  FormatType->"StandardForm",ExpressionUUID->
  "db990a19-9d34-4866-99ff-dcef8d309ad2"],
 " function"
}], "Text",
 CellChangeTimes->{{3.7109625736306667`*^9, 3.710962586002252*^9}, {
  3.7109628253357267`*^9, 3.71096282609618*^9}, {3.710963009519969*^9, 
  3.710963026723353*^9}},ExpressionUUID->"4981e47d-22af-4774-bea0-\
78f8f7259c55"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"OFMethod", "[", "\"\<Step\>\"", "]"}], "[", "\n", "\t", 
   RowBox[{"self_", ",", "\n", "\t", 
    RowBox[{"time", ":", "_Quantity", ":", 
     RowBox[{"Quantity", "[", 
      RowBox[{".1", ",", "\"\<Seconds\>\""}], "]"}]}], ",", "\n", "\t", 
    RowBox[{"steps", ":", 
     RowBox[{"_Integer", "?", "Positive"}], ":", "1"}]}], "\n", "\t", "]"}], ":=",
   "\n", "\t", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"position", ",", "velocity", ",", "box", ",", "mulp", ",", 
      RowBox[{"timenum", "=", 
       RowBox[{"QuantityMagnitude", "@", 
        RowBox[{"UnitConvert", "[", 
         RowBox[{"time", ",", "\"\<Seconds\>\""}], "]"}]}]}]}], "}"}], ",", 
    "\t", "\n", "\t\t", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"position", ",", "velocity", ",", "box", ",", "mulp"}], "}"}], 
      "=", "\n", "\t\t\t", 
      RowBox[{"OFLookup", "[", 
       RowBox[{"self", ",", 
        RowBox[{"{", 
         RowBox[{
         "\"\<Position\>\"", ",", "\"\<Velocity\>\"", ",", "\"\<Box\>\"", 
          ",", "\"\<ElasticityMultiplier\>\""}], "}"}]}], "]"}]}], ";", "\n", 
     "\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"self", "[", 
           RowBox[{"{", 
            RowBox[{"\"\<Postion\>\"", ",", "\"\<Velocity\>\""}], "}"}], 
           "]"}], "=", 
          RowBox[{"{", 
           RowBox[{"position", ",", "velocity"}], "}"}]}], ";", "#"}], ")"}], 
       "&"}], "@", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"Reap", "[", "\n", "\t\t\t\t", 
        RowBox[{"Do", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"position", "+=", 
            RowBox[{"velocity", "*", "timenum"}]}], ";", "\n", "\t", 
           "\t\t\t\t", 
           RowBox[{"Which", "[", "\n", "\t", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{"position", "[", 
               RowBox[{"[", "1", "]"}], "]"}], "<", 
              RowBox[{"box", "[", 
               RowBox[{"[", 
                RowBox[{"1", ",", "1"}], "]"}], "]"}]}], ",", "\n", "\t", 
             "\t", "\t\t\t\t\t", 
             RowBox[{
              RowBox[{
               RowBox[{"position", "[", 
                RowBox[{"[", "1", "]"}], "]"}], "=", 
               RowBox[{"box", "[", 
                RowBox[{"[", 
                 RowBox[{"1", ",", "1"}], "]"}], "]"}]}], ";", "\n", "\t", 
              "\t", "\t\t\t\t\t", 
              RowBox[{
               RowBox[{"velocity", "[", 
                RowBox[{"[", "1", "]"}], "]"}], "=", 
               RowBox[{
                RowBox[{"-", "mulp"}], "*", 
                RowBox[{"velocity", "[", 
                 RowBox[{"[", "1", "]"}], "]"}]}]}]}], ",", "\n", "\t", 
             "\t\t\t\t\t", 
             RowBox[{
              RowBox[{"position", "[", 
               RowBox[{"[", "1", "]"}], "]"}], ">", 
              RowBox[{"box", "[", 
               RowBox[{"[", 
                RowBox[{"1", ",", "2"}], "]"}], "]"}]}], ",", "\n", "\t", 
             "\t", "\t\t\t\t\t", 
             RowBox[{
              RowBox[{
               RowBox[{"position", "[", 
                RowBox[{"[", "1", "]"}], "]"}], "=", 
               RowBox[{"box", "[", 
                RowBox[{"[", 
                 RowBox[{"1", ",", "2"}], "]"}], "]"}]}], ";", "\n", "\t", 
              "\t", "\t\t\t\t\t", 
              RowBox[{
               RowBox[{"velocity", "[", 
                RowBox[{"[", "1", "]"}], "]"}], "=", 
               RowBox[{
                RowBox[{"-", "mulp"}], "*", 
                RowBox[{"velocity", "[", 
                 RowBox[{"[", "1", "]"}], "]"}]}]}]}]}], "\n", "\t", 
            "\t\t\t\t\t", "]"}], ";", "\n", "\t", "\t\t\t\t", 
           RowBox[{"Which", "[", "\n", "\t", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{"position", "[", 
               RowBox[{"[", "2", "]"}], "]"}], "<", 
              RowBox[{"box", "[", 
               RowBox[{"[", 
                RowBox[{"2", ",", "1"}], "]"}], "]"}]}], ",", "\n", "\t", 
             "\t", "\t\t\t\t\t", 
             RowBox[{
              RowBox[{
               RowBox[{"position", "[", 
                RowBox[{"[", "2", "]"}], "]"}], "=", 
               RowBox[{"box", "[", 
                RowBox[{"[", 
                 RowBox[{"2", ",", "1"}], "]"}], "]"}]}], ";", "\n", "\t", 
              "\t", "\t\t\t\t\t", 
              RowBox[{
               RowBox[{"velocity", "[", 
                RowBox[{"[", "2", "]"}], "]"}], "=", 
               RowBox[{
                RowBox[{"-", "mulp"}], "*", 
                RowBox[{"velocity", "[", 
                 RowBox[{"[", "2", "]"}], "]"}]}]}]}], ",", "\n", "\t", 
             "\t\t\t\t\t", 
             RowBox[{
              RowBox[{"position", "[", 
               RowBox[{"[", "2", "]"}], "]"}], ">", 
              RowBox[{"box", "[", 
               RowBox[{"[", 
                RowBox[{"2", ",", "2"}], "]"}], "]"}]}], ",", "\n", "\t", 
             "\t", "\t\t\t\t\t", 
             RowBox[{
              RowBox[{
               RowBox[{"position", "[", 
                RowBox[{"[", "2", "]"}], "]"}], "=", 
               RowBox[{"box", "[", 
                RowBox[{"[", 
                 RowBox[{"2", ",", "2"}], "]"}], "]"}]}], ";", "\n", "\t", 
              "\t", "\t\t\t\t\t", 
              RowBox[{
               RowBox[{"velocity", "[", 
                RowBox[{"[", "2", "]"}], "]"}], "=", 
               RowBox[{
                RowBox[{"-", "mulp"}], "*", 
                RowBox[{"velocity", "[", 
                 RowBox[{"[", "2", "]"}], "]"}]}]}]}]}], "\n", "\t", 
            "\t\t\t\t\t", "]"}], ";", "\n", "\t", "\t\t\t\t", 
           RowBox[{"Sow", "@", "position"}]}], ",", "\n", "\t", "\t\t\t\t", 
          "steps"}], "\n", "\t", "\t\t\t\t", "]"}], "\n", "\t", "\t\t\t", 
        "]"}], "[", 
       RowBox[{"[", 
        RowBox[{"2", ",", "1"}], "]"}], "]"}]}]}]}], "\n", "\t\t", 
   "]"}]}]], "Code",
 CellChangeTimes->{{3.7109625897698097`*^9, 3.7109626080175858`*^9}, {
   3.710962823724917*^9, 3.710962946033518*^9}, {3.7109629760657673`*^9, 
   3.710963028886835*^9}, {3.710963059507688*^9, 3.71096309720308*^9}, {
   3.710963184296027*^9, 3.7109632162128677`*^9}, {3.710963361804257*^9, 
   3.710963550001567*^9}, {3.7109636395401163`*^9, 3.710963691759873*^9}, {
   3.710963744764007*^9, 3.710963863870517*^9}, {3.710963981858386*^9, 
   3.710964010594533*^9}, 3.71097307323289*^9, {3.710973184061146*^9, 
   3.710973212819893*^9}, {3.710981037835807*^9, 3.710981070692219*^9}, {
   3.7109815917666187`*^9, 3.7109815925170717`*^9}, {3.710982152683207*^9, 
   3.710982166739193*^9}, 
   3.7109823663319817`*^9},ExpressionUUID->"ec6074d1-c7e3-4489-87b4-\
0406d5e2ce23"],

Cell["Then we end define the constructor:", "Text",
 CellChangeTimes->{{3.710963901257526*^9, 
  3.710963917363302*^9}},ExpressionUUID->"fa92574b-268e-4093-913a-\
e08872012ef7"],

Cell[BoxData[
 RowBox[{
  RowBox[{"OFInit", "[", 
   RowBox[{"self_", ",", "\n", "\t", 
    RowBox[{"position", ":", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"_", "?", "NumericQ"}], ",", 
       RowBox[{"_", "?", "NumericQ"}]}], "}"}], ":", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0"}], "}"}]}], ",", "\n", "\t", 
    RowBox[{"velocity", ":", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"_", "?", "NumericQ"}], ",", 
       RowBox[{"_", "?", "NumericQ"}]}], "}"}], ":", 
     RowBox[{"{", 
      RowBox[{"1", ",", "1"}], "}"}]}]}], "\n", "\t", "]"}], ":=", "\n", "\t", 
  RowBox[{"OFSetThread", "[", 
   RowBox[{"self", ",", 
    RowBox[{"{", 
     RowBox[{"\"\<Position\>\"", ",", "\"\<Velocity\>\""}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"position", ",", "velocity"}], "}"}]}], "]"}]}]], "Code",
 CellChangeTimes->{{3.7109639181739607`*^9, 3.710963923954771*^9}, {
  3.710963960874529*^9, 3.710963962817355*^9}, {3.710964045638671*^9, 
  3.710964107221706*^9}, {3.710965097884798*^9, 
  3.710965144774434*^9}},ExpressionUUID->"fd2d68aa-2898-4625-9458-\
8c319bd3cedf"],

Cell["And let\[CloseCurlyQuote]s just peek at the stack:", "Text",
 CellChangeTimes->{{3.710964166930561*^9, 
  3.710964172648109*^9}},ExpressionUUID->"01be2323-da73-420f-b7f8-\
57f0b5f4e815"],

Cell[CellGroupData[{

Cell[BoxData["$OFConstructorStack"], "Code",
 CellChangeTimes->{{3.7109641231680193`*^9, 
  3.7109641257506104`*^9}},ExpressionUUID->"b957a203-941e-4ebe-918c-\
4f3d4b236a4e"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\[LeftAssociation]", 
   RowBox[{
    RowBox[{"\<\"Name\"\>", "\[Rule]", "\<\"BallInABox\"\>"}], ",", 
    RowBox[{"\<\"Construct\"\>", "\[Rule]", "\<\"Type\"\>"}], ",", 
    RowBox[{"\<\"Assign\"\>", "\[Rule]", 
     RowBox[{"HoldPattern", "[", "ballInABox", "]"}]}], ",", 
    RowBox[{"\<\"Fields\"\>", "\[Rule]", 
     RowBox[{"\[LeftAssociation]", 
      RowBox[{
       RowBox[{"\<\"ObjectType\"\>", "\[Rule]", "\<\"Object\"\>"}], ",", 
       RowBox[{"\<\"Box\"\>", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "5"}], ",", "5"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "5"}], ",", "5"}], "}"}]}], "}"}]}], ",", 
       RowBox[{"\<\"ElasticityMultiplier\"\>", "\[Rule]", "1"}]}], 
      "\[RightAssociation]"}]}], ",", 
    RowBox[{"\<\"Methods\"\>", "\[Rule]", 
     RowBox[{"\[LeftAssociation]", 
      RowBox[{
       RowBox[{"\<\"Step\"\>", "\[Rule]", 
        RowBox[{"\[LeftAssociation]", 
         RowBox[{
          
          RowBox[{"\<\"Symbol\"\>", "\[Rule]", 
           "Step$22f15d87fd684683a13e88d69f21dad4"}], ",", 
          RowBox[{"\<\"Properties\"\>", "\[Rule]", 
           RowBox[{"\[LeftAssociation]", "\[RightAssociation]"}]}]}], 
         "\[RightAssociation]"}]}], ",", 
       RowBox[{"\<\"ObjectInitialization\"\>", "\[Rule]", 
        RowBox[{"\[LeftAssociation]", 
         RowBox[{
          
          RowBox[{"\<\"Symbol\"\>", "\[Rule]", 
           "ObjectInitialization$4a5647db29784ae69d9b1f0dcd88cddb"}], ",", 
          RowBox[{"\<\"Properties\"\>", "\[Rule]", 
           RowBox[{"\[LeftAssociation]", "\[RightAssociation]"}]}]}], 
         "\[RightAssociation]"}]}]}], "\[RightAssociation]"}]}]}], 
   "\[RightAssociation]"}], "}"}]], "Output",
 CellChangeTimes->{{3.7109641259858713`*^9, 3.7109641373103743`*^9}, 
   3.710965507516618*^9, 3.710973104581069*^9, 3.710981559286934*^9, 
   3.71098205929667*^9, {3.710982169182933*^9, 3.710982174327215*^9}, 
   3.710982379582201*^9},ExpressionUUID->"6f3923d9-a2c0-4213-bb05-\
91110407c090"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"OFEnd", "[", "]"}]], "Code",
 CellChangeTimes->{{3.71096390652466*^9, 
  3.7109639078773327`*^9}},ExpressionUUID->"0eadd098-99a0-4a6c-9663-\
cdbea28e4679"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{
   TagBox["OFType",
    "SummaryHead"], "[", 
   DynamicModuleBox[{Typeset`open$$ = False}, 
    PanelBox[
     PaneSelectorBox[{False->GridBox[{
        {
         PaneBox[
          ButtonBox[
           
           DynamicBox[FEPrivate`FrontEndResource[
            "FEBitmaps", "SquarePlusIconMedium"],
            ImageSizeCache->{12., {0., 12.}}],
           Appearance->None,
           ButtonFunction:>(Typeset`open$$ = True),
           Evaluator->Automatic,
           Method->"Preemptive"],
          Alignment->{Center, Center},
          
          ImageSize->
           Dynamic[{
            Automatic, 3.5 CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
             Magnification]}]], 
         GraphicsBox[
          {Hue[0.6, 0.5, 0.75], Thickness[0.035], Arrowheads[0.2], 
           ArrowBox[BSplineCurveBox[{{0, 0}, {0.425, 0}, {0.425, 0.3125}}]], 
           LineBox[{{0.125, 0.25}, {0., 0.5}, {0.125, 0.75}}], 
           LineBox[{{0.2222222222222222, 0.19999999999999996`}, {
            0.2222222222222222, 0.8}}], 
           {Hue[0.4, 0.5, 0.75], 
            ArrowBox[BSplineCurveBox[{{1, 1}, {0.575, 1}, {0.575, 0.6875}}]], 
            LineBox[{{0.875, 0.25}, {1., 0.5}, {0.875, 0.75}}], 
            LineBox[{{0.7777777777777778, 0.19999999999999996`}, {
             0.7777777777777778, 0.8}}]}, 
           {Hue[0, 0.75, 0.75], 
            DiskBox[{0.32142857142857145, 0.5}, Scaled[0.035]], 
            DiskBox[{0.5, 0.5}, Scaled[0.035]], 
            DiskBox[{0.6785714285714286, 0.5}, Scaled[0.035]]}},
          Background->GrayLevel[0.95],
          Frame->True,
          FrameStyle->GrayLevel[0.75],
          FrameTicks->None,
          ImageSize->{28, 28},
          PlotRange->{{-0.1, 1.1}, {-0.1, 1.1}}], GridBox[{
           {
            RowBox[{
             TagBox["\<\"Type: \"\>",
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox["\<\"BallInABox\"\>",
              "SummaryItem"]}]}
          },
          AutoDelete->False,
          
          BaseStyle->{
           ShowStringCharacters -> False, NumberMarks -> False, 
            PrintPrecision -> 3, ShowSyntaxStyles -> False},
          GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Automatic}}},
          
          GridBoxItemSize->{
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}},
          GridBoxSpacings->{"Columns" -> {{2}}, "Rows" -> {{Automatic}}}]}
       },
       AutoDelete->False,
       BaselinePosition->{1, 1},
       GridBoxAlignment->{"Rows" -> {{Top}}},
       GridBoxItemSize->{
        "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}], True->
      GridBox[{
        {
         PaneBox[
          ButtonBox[
           
           DynamicBox[FEPrivate`FrontEndResource[
            "FEBitmaps", "SquareMinusIconMedium"]],
           Appearance->None,
           ButtonFunction:>(Typeset`open$$ = False),
           Evaluator->Automatic,
           Method->"Preemptive"],
          Alignment->{Center, Center},
          
          ImageSize->
           Dynamic[{
            Automatic, 3.5 CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
             Magnification]}]], 
         GraphicsBox[
          {Hue[0.6, 0.5, 0.75], Thickness[0.035], Arrowheads[0.2], 
           ArrowBox[BSplineCurveBox[{{0, 0}, {0.425, 0}, {0.425, 0.3125}}]], 
           LineBox[{{0.125, 0.25}, {0., 0.5}, {0.125, 0.75}}], 
           LineBox[{{0.2222222222222222, 0.19999999999999996`}, {
            0.2222222222222222, 0.8}}], 
           {Hue[0.4, 0.5, 0.75], 
            ArrowBox[BSplineCurveBox[{{1, 1}, {0.575, 1}, {0.575, 0.6875}}]], 
            LineBox[{{0.875, 0.25}, {1., 0.5}, {0.875, 0.75}}], 
            LineBox[{{0.7777777777777778, 0.19999999999999996`}, {
             0.7777777777777778, 0.8}}]}, 
           {Hue[0, 0.75, 0.75], 
            DiskBox[{0.32142857142857145, 0.5}, Scaled[0.035]], 
            DiskBox[{0.5, 0.5}, Scaled[0.035]], 
            DiskBox[{0.6785714285714286, 0.5}, Scaled[0.035]]}},
          Background->GrayLevel[0.95],
          Frame->True,
          FrameStyle->GrayLevel[0.75],
          FrameTicks->None,
          ImageSize->{28, 28},
          PlotRange->{{-0.1, 1.1}, {-0.1, 1.1}}], GridBox[{
           {
            RowBox[{
             TagBox["\<\"Type: \"\>",
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox["\<\"BallInABox\"\>",
              "SummaryItem"]}]},
           {
            RowBox[{
             TagBox[
              TemplateBox[{"\"ObjectType\"","\": \""},
               "RowDefault"],
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox["\<\"Object\"\>",
              "SummaryItem"]}]},
           {
            RowBox[{
             TagBox[
              TemplateBox[{"\"Box\"","\": \""},
               "RowDefault"],
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox[
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "5"}], ",", "5"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "5"}], ",", "5"}], "}"}]}], "}"}],
              "SummaryItem"]}]},
           {
            RowBox[{
             TagBox[
              TemplateBox[{"\"ElasticityMultiplier\"","\": \""},
               "RowDefault"],
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox["1",
              "SummaryItem"]}]},
           {
            RowBox[{
             TagBox[
              TemplateBox[{"\"Step\"","\": \""},
               "RowDefault"],
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox[
              InterpretationBox[
               RowBox[{
                TagBox["OFMethod",
                 "SummaryHead"], "[", 
                DynamicModuleBox[{Typeset`open$$ = False}, 
                 PanelBox[
                  PaneSelectorBox[{False->GridBox[{
                    {
                    PaneBox[
                    ButtonBox[
                    
                    DynamicBox[FEPrivate`FrontEndResource[
                    "FEBitmaps", "SquarePlusIconMedium"]],
                    Appearance->None,
                    ButtonFunction:>(Typeset`open$$ = True),
                    Evaluator->Automatic,
                    Method->"Preemptive"],
                    Alignment->{Center, Center},
                    
                    ImageSize->
                    Dynamic[{
                    Automatic, 3.5 CurrentValue["FontCapHeight"]/
                    AbsoluteCurrentValue[Magnification]}]], 
                    GraphicsBox[
                    {Hue[0.6, 0.5, 0.75], Thickness[0.035], Arrowheads[0.2], 
                    LineBox[{{0.125, 0.25}, {0., 0.5}, {0.125, 0.75}}], 
                    LineBox[{{0.2222222222222222, 0.19999999999999996`}, {
                    0.2222222222222222, 0.8}}], 
                    {Hue[0.4, 0.5, 0.75], 
                    LineBox[{{0.875, 0.25}, {1., 0.5}, {0.875, 0.75}}], 
                    LineBox[{{0.7777777777777778, 0.19999999999999996`}, {
                    0.7777777777777778, 0.8}}]}, 
                    {Hue[0, 0.75, 0.75], 
                    TagBox[InsetBox["@"],
                    "InsetString"]}},
                    Background->GrayLevel[0.95],
                    Frame->True,
                    FrameStyle->GrayLevel[0.75],
                    FrameTicks->None,
                    ImageSize->{28, 28},
                    PlotRange->{{-0.1, 1.1}, {-0.1, 1.1}}], GridBox[{
                    {
                    RowBox[{
                    TagBox["\<\"Type: \"\>",
                    "SummaryItemAnnotation"], "\[InvisibleSpace]", 
                    TagBox["\<\"Bound Method\"\>",
                    "SummaryItem"]}]}
                    },
                    AutoDelete->False,
                    
                    BaseStyle->{
                    ShowStringCharacters -> False, NumberMarks -> False, 
                    PrintPrecision -> 3, ShowSyntaxStyles -> False},
                    
                    GridBoxAlignment->{
                    "Columns" -> {{Left}}, "Rows" -> {{Automatic}}},
                    GridBoxItemSize->{
                    "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}},
                    
                    GridBoxSpacings->{
                    "Columns" -> {{2}}, "Rows" -> {{Automatic}}}]}
                    },
                    AutoDelete->False,
                    BaselinePosition->{1, 1},
                    GridBoxAlignment->{"Rows" -> {{Top}}},
                    
                    GridBoxItemSize->{
                    "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}], 
                   True->GridBox[{
                    {
                    PaneBox[
                    ButtonBox[
                    
                    DynamicBox[FEPrivate`FrontEndResource[
                    "FEBitmaps", "SquareMinusIconMedium"]],
                    Appearance->None,
                    ButtonFunction:>(Typeset`open$$ = False),
                    Evaluator->Automatic,
                    Method->"Preemptive"],
                    Alignment->{Center, Center},
                    
                    ImageSize->
                    Dynamic[{
                    Automatic, 3.5 CurrentValue["FontCapHeight"]/
                    AbsoluteCurrentValue[Magnification]}]], 
                    GraphicsBox[
                    {Hue[0.6, 0.5, 0.75], Thickness[0.035], Arrowheads[0.2], 
                    LineBox[{{0.125, 0.25}, {0., 0.5}, {0.125, 0.75}}], 
                    LineBox[{{0.2222222222222222, 0.19999999999999996`}, {
                    0.2222222222222222, 0.8}}], 
                    {Hue[0.4, 0.5, 0.75], 
                    LineBox[{{0.875, 0.25}, {1., 0.5}, {0.875, 0.75}}], 
                    LineBox[{{0.7777777777777778, 0.19999999999999996`}, {
                    0.7777777777777778, 0.8}}]}, 
                    {Hue[0, 0.75, 0.75], 
                    TagBox[InsetBox["@"],
                    "InsetString"]}},
                    Background->GrayLevel[0.95],
                    Frame->True,
                    FrameStyle->GrayLevel[0.75],
                    FrameTicks->None,
                    ImageSize->{28, 28},
                    PlotRange->{{-0.1, 1.1}, {-0.1, 1.1}}], GridBox[{
                    {
                    RowBox[{
                    TagBox["\<\"Type: \"\>",
                    "SummaryItemAnnotation"], "\[InvisibleSpace]", 
                    TagBox["\<\"Bound Method\"\>",
                    "SummaryItem"]}]},
                    {
                    RowBox[{
                    TagBox["\<\"Function: \"\>",
                    "SummaryItemAnnotation"], "\[InvisibleSpace]", 
                    TagBox["Step$22f15d87fd684683a13e88d69f21dad4",
                    "SummaryItem"]}]}
                    },
                    AutoDelete->False,
                    
                    BaseStyle->{
                    ShowStringCharacters -> False, NumberMarks -> False, 
                    PrintPrecision -> 3, ShowSyntaxStyles -> False},
                    
                    GridBoxAlignment->{
                    "Columns" -> {{Left}}, "Rows" -> {{Automatic}}},
                    
                    GridBoxItemSize->{
                    "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}},
                    
                    GridBoxSpacings->{
                    "Columns" -> {{2}}, "Rows" -> {{Automatic}}}]}
                    },
                    AutoDelete->False,
                    BaselinePosition->{1, 1},
                    GridBoxAlignment->{"Rows" -> {{Top}}},
                    
                    GridBoxItemSize->{
                    "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}]}, 
                   Dynamic[Typeset`open$$],
                   ImageSize->Automatic],
                  BaselinePosition->Baseline],
                 DynamicModuleValues:>{}], "]"}],
               
               ObjectFramework`OFMethod[$CellContext`Step$\
22f15d87fd684683a13e88d69f21dad4, 
                Association[]],
               Editable->False,
               SelectWithContents->True,
               Selectable->False],
              "SummaryItem"]}]},
           {
            RowBox[{
             TagBox[
              TemplateBox[{"\"ObjectInitialization\"","\": \""},
               "RowDefault"],
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox[
              InterpretationBox[
               RowBox[{
                TagBox["OFMethod",
                 "SummaryHead"], "[", 
                DynamicModuleBox[{Typeset`open$$ = False}, 
                 PanelBox[
                  PaneSelectorBox[{False->GridBox[{
                    {
                    PaneBox[
                    ButtonBox[
                    
                    DynamicBox[FEPrivate`FrontEndResource[
                    "FEBitmaps", "SquarePlusIconMedium"]],
                    Appearance->None,
                    ButtonFunction:>(Typeset`open$$ = True),
                    Evaluator->Automatic,
                    Method->"Preemptive"],
                    Alignment->{Center, Center},
                    
                    ImageSize->
                    Dynamic[{
                    Automatic, 3.5 CurrentValue["FontCapHeight"]/
                    AbsoluteCurrentValue[Magnification]}]], 
                    GraphicsBox[
                    {Hue[0.6, 0.5, 0.75], Thickness[0.035], Arrowheads[0.2], 
                    LineBox[{{0.125, 0.25}, {0., 0.5}, {0.125, 0.75}}], 
                    LineBox[{{0.2222222222222222, 0.19999999999999996`}, {
                    0.2222222222222222, 0.8}}], 
                    {Hue[0.4, 0.5, 0.75], 
                    LineBox[{{0.875, 0.25}, {1., 0.5}, {0.875, 0.75}}], 
                    LineBox[{{0.7777777777777778, 0.19999999999999996`}, {
                    0.7777777777777778, 0.8}}]}, 
                    {Hue[0, 0.75, 0.75], 
                    TagBox[InsetBox["@"],
                    "InsetString"]}},
                    Background->GrayLevel[0.95],
                    Frame->True,
                    FrameStyle->GrayLevel[0.75],
                    FrameTicks->None,
                    ImageSize->{28, 28},
                    PlotRange->{{-0.1, 1.1}, {-0.1, 1.1}}], GridBox[{
                    {
                    RowBox[{
                    TagBox["\<\"Type: \"\>",
                    "SummaryItemAnnotation"], "\[InvisibleSpace]", 
                    TagBox["\<\"Bound Method\"\>",
                    "SummaryItem"]}]}
                    },
                    AutoDelete->False,
                    
                    BaseStyle->{
                    ShowStringCharacters -> False, NumberMarks -> False, 
                    PrintPrecision -> 3, ShowSyntaxStyles -> False},
                    
                    GridBoxAlignment->{
                    "Columns" -> {{Left}}, "Rows" -> {{Automatic}}},
                    
                    GridBoxItemSize->{
                    "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}},
                    
                    GridBoxSpacings->{
                    "Columns" -> {{2}}, "Rows" -> {{Automatic}}}]}
                    },
                    AutoDelete->False,
                    BaselinePosition->{1, 1},
                    GridBoxAlignment->{"Rows" -> {{Top}}},
                    
                    GridBoxItemSize->{
                    "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}], 
                   True->GridBox[{
                    {
                    PaneBox[
                    ButtonBox[
                    
                    DynamicBox[FEPrivate`FrontEndResource[
                    "FEBitmaps", "SquareMinusIconMedium"]],
                    Appearance->None,
                    ButtonFunction:>(Typeset`open$$ = False),
                    Evaluator->Automatic,
                    Method->"Preemptive"],
                    Alignment->{Center, Center},
                    
                    ImageSize->
                    Dynamic[{
                    Automatic, 3.5 CurrentValue["FontCapHeight"]/
                    AbsoluteCurrentValue[Magnification]}]], 
                    GraphicsBox[
                    {Hue[0.6, 0.5, 0.75], Thickness[0.035], Arrowheads[0.2], 
                    LineBox[{{0.125, 0.25}, {0., 0.5}, {0.125, 0.75}}], 
                    LineBox[{{0.2222222222222222, 0.19999999999999996`}, {
                    0.2222222222222222, 0.8}}], 
                    {Hue[0.4, 0.5, 0.75], 
                    LineBox[{{0.875, 0.25}, {1., 0.5}, {0.875, 0.75}}], 
                    LineBox[{{0.7777777777777778, 0.19999999999999996`}, {
                    0.7777777777777778, 0.8}}]}, 
                    {Hue[0, 0.75, 0.75], 
                    TagBox[InsetBox["@"],
                    "InsetString"]}},
                    Background->GrayLevel[0.95],
                    Frame->True,
                    FrameStyle->GrayLevel[0.75],
                    FrameTicks->None,
                    ImageSize->{28, 28},
                    PlotRange->{{-0.1, 1.1}, {-0.1, 1.1}}], GridBox[{
                    {
                    RowBox[{
                    TagBox["\<\"Type: \"\>",
                    "SummaryItemAnnotation"], "\[InvisibleSpace]", 
                    TagBox["\<\"Bound Method\"\>",
                    "SummaryItem"]}]},
                    {
                    RowBox[{
                    TagBox["\<\"Function: \"\>",
                    "SummaryItemAnnotation"], "\[InvisibleSpace]", 
                    
                    TagBox["ObjectInitialization$\
4a5647db29784ae69d9b1f0dcd88cddb",
                    "SummaryItem"]}]}
                    },
                    AutoDelete->False,
                    
                    BaseStyle->{
                    ShowStringCharacters -> False, NumberMarks -> False, 
                    PrintPrecision -> 3, ShowSyntaxStyles -> False},
                    
                    GridBoxAlignment->{
                    "Columns" -> {{Left}}, "Rows" -> {{Automatic}}},
                    
                    GridBoxItemSize->{
                    "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}},
                    
                    GridBoxSpacings->{
                    "Columns" -> {{2}}, "Rows" -> {{Automatic}}}]}
                    },
                    AutoDelete->False,
                    BaselinePosition->{1, 1},
                    GridBoxAlignment->{"Rows" -> {{Top}}},
                    
                    GridBoxItemSize->{
                    "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}]}, 
                   Dynamic[Typeset`open$$],
                   ImageSize->Automatic],
                  BaselinePosition->Baseline],
                 DynamicModuleValues:>{}], "]"}],
               
               ObjectFramework`OFMethod[$CellContext`ObjectInitialization$\
4a5647db29784ae69d9b1f0dcd88cddb, 
                Association[]],
               Editable->False,
               SelectWithContents->True,
               Selectable->False],
              "SummaryItem"]}]}
          },
          AutoDelete->False,
          
          BaseStyle->{
           ShowStringCharacters -> False, NumberMarks -> False, 
            PrintPrecision -> 3, ShowSyntaxStyles -> False},
          GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Automatic}}},
          
          GridBoxItemSize->{
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}},
          GridBoxSpacings->{"Columns" -> {{2}}, "Rows" -> {{Automatic}}}]}
       },
       AutoDelete->False,
       BaselinePosition->{1, 1},
       GridBoxAlignment->{"Rows" -> {{Top}}},
       GridBoxItemSize->{
        "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}]}, Dynamic[
      Typeset`open$$],
      ImageSize->Automatic],
     BaselinePosition->Baseline],
    DynamicModuleValues:>{}], "]"}],
  ObjectFramework`OFType["BallInABox"],
  Editable->False,
  SelectWithContents->True,
  Selectable->False]], "Output",
 CellChangeTimes->{
  3.7109642476545677`*^9, 3.710965509542083*^9, 3.7109731046654654`*^9, 
   3.710981559374627*^9, 3.710982059356064*^9, {3.7109821692392282`*^9, 
   3.710982174390847*^9}, 
   3.710982379650889*^9},ExpressionUUID->"4f364300-a07f-4485-b4f9-\
90916540f7f2"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Playing with a ball-in-a-box", "Subsection",
 CellChangeTimes->{{3.710964408316188*^9, 
  3.710964415346603*^9}},ExpressionUUID->"22564d69-c60b-4a9a-a8b9-\
479d216cea56"],

Cell["We\[CloseCurlyQuote]ll then just build one of these objects:", "Text",
 CellChangeTimes->{{3.710964424823369*^9, 
  3.710964430763276*^9}},ExpressionUUID->"d6217efd-9491-4c7a-951f-\
5df8513a46ed"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ball", "=", 
  RowBox[{"ballInABox", "[", 
   RowBox[{
    RowBox[{"RandomReal", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"-", "5"}], ",", "5"}], "}"}], ",", "2"}], "]"}], ",", 
    RowBox[{"RandomReal", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"-", "2.5"}], ",", "2.5"}], "}"}], ",", "2"}], "]"}]}], 
   "]"}]}]], "Code",
 CellChangeTimes->{{3.7109644326123753`*^9, 3.7109644349568777`*^9}, 
   3.710964722662817*^9, 3.710965080052581*^9, {3.710965112921254*^9, 
   3.710965114836466*^9}, {3.710965150575316*^9, 3.710965163007077*^9}, {
   3.7109816610519943`*^9, 
   3.7109816686036158`*^9}},ExpressionUUID->"cbfd4bdd-dd31-4c50-b988-\
019479299495"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{
   TagBox["OFObject",
    "SummaryHead"], "[", 
   DynamicModuleBox[{Typeset`open$$ = False}, 
    PanelBox[
     PaneSelectorBox[{False->GridBox[{
        {
         PaneBox[
          ButtonBox[
           
           DynamicBox[FEPrivate`FrontEndResource[
            "FEBitmaps", "SquarePlusIconMedium"],
            ImageSizeCache->{12., {0., 12.}}],
           Appearance->None,
           ButtonFunction:>(Typeset`open$$ = True),
           Evaluator->Automatic,
           Method->"Preemptive"],
          Alignment->{Center, Center},
          
          ImageSize->
           Dynamic[{
            Automatic, 3.5 CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
             Magnification]}]], 
         GraphicsBox[
          {Hue[0.6, 0.5, 0.75], Thickness[0.035], Arrowheads[0.2], 
           ArrowBox[BSplineCurveBox[{{0, 0}, {0.425, 0}, {0.425, 0.3125}}]], 
           LineBox[{{0.125, 0.25}, {0., 0.5}, {0.125, 0.75}}], 
           LineBox[{{0.2222222222222222, 0.19999999999999996`}, {
            0.2222222222222222, 0.8}}], 
           {Hue[0.4, 0.5, 0.75], 
            ArrowBox[BSplineCurveBox[{{1, 1}, {0.575, 1}, {0.575, 0.6875}}]], 
            LineBox[{{0.875, 0.25}, {1., 0.5}, {0.875, 0.75}}], 
            LineBox[{{0.7777777777777778, 0.19999999999999996`}, {
             0.7777777777777778, 0.8}}]}, 
           {Hue[0, 0.75, 0.75], 
            DiskBox[{0.32142857142857145, 0.5}, Scaled[0.035]], 
            DiskBox[{0.5, 0.5}, Scaled[0.035]], 
            DiskBox[{0.6785714285714286, 0.5}, Scaled[0.035]]}},
          Background->GrayLevel[0.95],
          Frame->True,
          FrameStyle->GrayLevel[0.75],
          FrameTicks->None,
          ImageSize->{28, 28},
          PlotRange->{{-0.1, 1.1}, {-0.1, 1.1}}], GridBox[{
           {
            RowBox[{
             TagBox["\<\"Type: \"\>",
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox["\<\"BallInABox\"\>",
              "SummaryItem"]}]}
          },
          AutoDelete->False,
          
          BaseStyle->{
           ShowStringCharacters -> False, NumberMarks -> False, 
            PrintPrecision -> 3, ShowSyntaxStyles -> False},
          GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Automatic}}},
          
          GridBoxItemSize->{
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}},
          GridBoxSpacings->{"Columns" -> {{2}}, "Rows" -> {{Automatic}}}]}
       },
       AutoDelete->False,
       BaselinePosition->{1, 1},
       GridBoxAlignment->{"Rows" -> {{Top}}},
       GridBoxItemSize->{
        "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}], True->
      GridBox[{
        {
         PaneBox[
          ButtonBox[
           
           DynamicBox[FEPrivate`FrontEndResource[
            "FEBitmaps", "SquareMinusIconMedium"]],
           Appearance->None,
           ButtonFunction:>(Typeset`open$$ = False),
           Evaluator->Automatic,
           Method->"Preemptive"],
          Alignment->{Center, Center},
          
          ImageSize->
           Dynamic[{
            Automatic, 3.5 CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
             Magnification]}]], 
         GraphicsBox[
          {Hue[0.6, 0.5, 0.75], Thickness[0.035], Arrowheads[0.2], 
           ArrowBox[BSplineCurveBox[{{0, 0}, {0.425, 0}, {0.425, 0.3125}}]], 
           LineBox[{{0.125, 0.25}, {0., 0.5}, {0.125, 0.75}}], 
           LineBox[{{0.2222222222222222, 0.19999999999999996`}, {
            0.2222222222222222, 0.8}}], 
           {Hue[0.4, 0.5, 0.75], 
            ArrowBox[BSplineCurveBox[{{1, 1}, {0.575, 1}, {0.575, 0.6875}}]], 
            LineBox[{{0.875, 0.25}, {1., 0.5}, {0.875, 0.75}}], 
            LineBox[{{0.7777777777777778, 0.19999999999999996`}, {
             0.7777777777777778, 0.8}}]}, 
           {Hue[0, 0.75, 0.75], 
            DiskBox[{0.32142857142857145, 0.5}, Scaled[0.035]], 
            DiskBox[{0.5, 0.5}, Scaled[0.035]], 
            DiskBox[{0.6785714285714286, 0.5}, Scaled[0.035]]}},
          Background->GrayLevel[0.95],
          Frame->True,
          FrameStyle->GrayLevel[0.75],
          FrameTicks->None,
          ImageSize->{28, 28},
          PlotRange->{{-0.1, 1.1}, {-0.1, 1.1}}], GridBox[{
           {
            RowBox[{
             TagBox["\<\"Type: \"\>",
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox["\<\"BallInABox\"\>",
              "SummaryItem"]}]},
           {
            RowBox[{
             TagBox[
              TemplateBox[{"\"Position\"","\": \""},
               "RowDefault"],
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox[
              RowBox[{"{", 
               RowBox[{"2.9525146142746124`", ",", "0.10083771893650706`"}], 
               "}"}],
              "SummaryItem"]}]},
           {
            RowBox[{
             TagBox[
              TemplateBox[{"\"Velocity\"","\": \""},
               "RowDefault"],
              "SummaryItemAnnotation"], "\[InvisibleSpace]", 
             TagBox[
              RowBox[{"{", 
               RowBox[{"1.326786429412028`", ",", 
                RowBox[{"-", "0.65599469383206`"}]}], "}"}],
              "SummaryItem"]}]}
          },
          AutoDelete->False,
          
          BaseStyle->{
           ShowStringCharacters -> False, NumberMarks -> False, 
            PrintPrecision -> 3, ShowSyntaxStyles -> False},
          GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Automatic}}},
          
          GridBoxItemSize->{
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}},
          GridBoxSpacings->{"Columns" -> {{2}}, "Rows" -> {{Automatic}}}]}
       },
       AutoDelete->False,
       BaselinePosition->{1, 1},
       GridBoxAlignment->{"Rows" -> {{Top}}},
       GridBoxItemSize->{
        "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}]}, Dynamic[
      Typeset`open$$],
      ImageSize->Automatic],
     BaselinePosition->Baseline],
    DynamicModuleValues:>{}], "]"}],
  ObjectFramework`OFObject["BallInABox-f0a26f0e-125a-4c5d-8f2a-ce3f4d1acfee"],
  
  Editable->False,
  SelectWithContents->True,
  Selectable->False]], "Output",
 CellChangeTimes->{{3.710965726988208*^9, 3.710965742735751*^9}, 
   3.710970878724249*^9, 3.710973044956737*^9, 3.7109731117327147`*^9, 
   3.7109815621066*^9, 3.710981669489389*^9, 3.710982063432679*^9, {
   3.710982169309414*^9, 3.710982176392321*^9}, 
   3.710982387184635*^9},ExpressionUUID->"fc1a0f57-9311-4130-a1d9-\
ef983e0bbf10"]
}, Open  ]],

Cell["And make it step like 10 times", "Text",
 CellChangeTimes->{{3.710965084313202*^9, 
  3.710965092596505*^9}},ExpressionUUID->"089d0dea-3baf-4265-a9f7-\
4b13782a0691"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"ball", "[", "\"\<Step\>\"", "]"}], "[", "10", "]"}]], "Code",
 CellChangeTimes->{{3.7109657452647343`*^9, 3.710965750746993*^9}, {
  3.710973054455655*^9, 3.7109730558476562`*^9}, {3.710982177802322*^9, 
  3.710982178504368*^9}},ExpressionUUID->"e1b9b570-c53e-469a-baf3-\
986c54ef938e"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"3.085193257215815`", ",", "0.03523824955330106`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"3.217871900157018`", ",", 
     RowBox[{"-", "0.030361219829904945`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"3.3505505430982208`", ",", 
     RowBox[{"-", "0.09596068921311095`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"3.4832291860394236`", ",", 
     RowBox[{"-", "0.16156015859631695`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"3.6159078289806263`", ",", 
     RowBox[{"-", "0.22715962797952294`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"3.748586471921829`", ",", 
     RowBox[{"-", "0.2927590973627289`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"3.881265114863032`", ",", 
     RowBox[{"-", "0.3583585667459349`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"4.013943757804235`", ",", 
     RowBox[{"-", "0.4239580361291409`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"4.1466224007454375`", ",", 
     RowBox[{"-", "0.4895575055123469`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"4.27930104368664`", ",", 
     RowBox[{"-", "0.5551569748955529`"}]}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.710981927183628*^9, 3.71098202142516*^9, 3.7109820740918903`*^9, {
   3.710982169372822*^9, 3.710982178848659*^9}, 
   3.710982388693665*^9},ExpressionUUID->"a8482fd3-4d84-4288-bf19-\
b37b68a2a5ed"]
}, Open  ]],

Cell["Check the ball\[CloseCurlyQuote]s position and velocity:", "Text",
 CellChangeTimes->{{3.7109821846325617`*^9, 
  3.7109821968724003`*^9}},ExpressionUUID->"38fe7afb-5f89-492b-a81c-\
d302a48b5b62"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ball", "[", 
  RowBox[{"{", 
   RowBox[{"\"\<Position\>\"", ",", "\"\<Velocity\>\""}], "}"}], 
  "]"}]], "Code",
 CellChangeTimes->{{3.7109822004916286`*^9, 
  3.71098220973494*^9}},ExpressionUUID->"5b4c311f-f781-4d3e-9133-\
71b6930ae1ed"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"2.9525146142746124`", ",", "0.10083771893650706`"}], "}"}], ",", 
   
   RowBox[{"{", 
    RowBox[{"1.326786429412028`", ",", 
     RowBox[{"-", "0.65599469383206`"}]}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{3.7109822101046467`*^9, 
  3.7109823905171833`*^9},ExpressionUUID->"778ca4b7-2719-45ae-88a4-\
65c1451f37af"]
}, Open  ]],

Cell["And view the ball bouncing:", "Text",
 CellChangeTimes->{{3.710982218747466*^9, 
  3.710982224685831*^9}},ExpressionUUID->"45c49e08-254f-4407-a3b2-\
c15e08959769"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"With", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"box", "=", 
     RowBox[{"ball", "[", "\"\<Box\>\"", "]"}]}], "}"}], ",", "\n", "\t", 
   RowBox[{"ListAnimate", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{
      RowBox[{"Graphics", "[", 
       RowBox[{
        RowBox[{"Point", "[", "#", "]"}], ",", 
        RowBox[{"PlotRange", "\[Rule]", "box"}]}], "]"}], "&"}], "/@", 
     RowBox[{
      RowBox[{"ball", "[", "\"\<Step\>\"", "]"}], "[", "100", "]"}]}], "\n", 
    "\t", "\t", "]"}]}], "\n", "\t", "]"}]], "Code",
 CellChangeTimes->{{3.71098225017286*^9, 
  3.710982345328936*^9}},ExpressionUUID->"471a3103-6316-4730-94e2-\
a98c29332337"],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{$CellContext`i4$$ = 1, Typeset`show$$ = True, 
    Typeset`bookmarkList$$ = {
    "\"min\"" :> {$CellContext`i4$$ = 1}, 
     "\"max\"" :> {$CellContext`i4$$ = 100}}, Typeset`bookmarkMode$$ = "Menu",
     Typeset`animator$$, Typeset`animvar$$ = 1, Typeset`name$$ = 
    "\"untitled\"", Typeset`specs$$ = {{{
       Hold[$CellContext`i4$$], 1, ""}, 1, 100, 1}}, Typeset`size$$ = 
    Automatic, Typeset`update$$ = 0, Typeset`initDone$$, 
    Typeset`skipInitDone$$ = True, $CellContext`i4$56567$$ = 0}, 
    PaneBox[
     PanelBox[
      DynamicWrapperBox[GridBox[{
         {
          ItemBox[
           ItemBox[
            TagBox[
             StyleBox[GridBox[{
                {"\<\"\"\>", 
                 AnimatorBox[Dynamic[$CellContext`i4$$], {1, 100, 1},
                  AnimationRate->Automatic,
                  AnimationRunTime->1.4389262199401855`,
                  AnimationRunning->False,
                  AnimationTimeIndex->0.,
                  
                  AppearanceElements->{
                   "ProgressSlider", "PlayPauseButton", "FasterSlowerButtons",
                     "DirectionButton"},
                  AutoAction->False,
                  DisplayAllSteps->True]}
               },
               AutoDelete->False,
               
               GridBoxAlignment->{
                "Columns" -> {Right, {Left}}, "ColumnsIndexed" -> {}, 
                 "Rows" -> {{Baseline}}, "RowsIndexed" -> {}},
               
               GridBoxItemSize->{
                "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}], 
              "ListAnimateLabel",
              StripOnInput->False],
             {"ControlArea", Top}],
            Alignment->{Automatic, Inherited},
            StripOnInput->False],
           Background->None,
           StripOnInput->False]},
         {
          ItemBox[
           TagBox[
            StyleBox[
             PaneBox[
              TagBox[
               PaneSelectorBox[{1->
                GraphicsBox[PointBox[{3.085193257215815, 0.03523824955330106}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 2->
                
                GraphicsBox[
                 PointBox[{3.217871900157018, -0.030361219829904945`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 3->
                
                GraphicsBox[
                 PointBox[{3.3505505430982208`, -0.09596068921311095}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 4->
                
                GraphicsBox[
                 PointBox[{3.4832291860394236`, -0.16156015859631695`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 5->
                
                GraphicsBox[
                 PointBox[{3.6159078289806263`, -0.22715962797952294`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 6->
                GraphicsBox[PointBox[{3.748586471921829, -0.2927590973627289}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 7->
                GraphicsBox[PointBox[{3.881265114863032, -0.3583585667459349}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 8->
                GraphicsBox[PointBox[{4.013943757804235, -0.4239580361291409}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 9->
                
                GraphicsBox[
                 PointBox[{4.1466224007454375`, -0.4895575055123469}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 10->
                
                GraphicsBox[PointBox[{4.27930104368664, -0.5551569748955529}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 11->
                
                GraphicsBox[PointBox[{4.411979686627843, -0.620756444278759}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 12->
                
                GraphicsBox[PointBox[{4.544658329569046, -0.686355913661965}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 13->
                GraphicsBox[PointBox[{4.677336972510249, -0.7519553830451711}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 14->
                
                GraphicsBox[
                 PointBox[{4.8100156154514515`, -0.8175548524283771}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 15->
                GraphicsBox[PointBox[{4.942694258392654, -0.8831543218115832}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 16->
                GraphicsBox[PointBox[{5, -0.9487537911947892}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 17->
                
                GraphicsBox[
                 PointBox[{4.867321357058797, -1.0143532605779952`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 18->
                
                GraphicsBox[
                 PointBox[{4.734642714117594, -1.0799527299612013`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 19->
                
                GraphicsBox[
                 PointBox[{4.601964071176392, -1.1455521993444073`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 20->
                
                GraphicsBox[
                 PointBox[{4.469285428235189, -1.2111516687276134`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 21->
                
                GraphicsBox[
                 PointBox[{4.336606785293986, -1.2767511381108194`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 22->
                
                GraphicsBox[
                 PointBox[{4.203928142352783, -1.3423506074940255`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 23->
                GraphicsBox[PointBox[{4.07124949941158, -1.4079500768772315`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 24->
                
                GraphicsBox[
                 PointBox[{3.9385708564703776`, -1.4735495462604375`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 25->
                
                GraphicsBox[
                 PointBox[{3.805892213529175, -1.5391490156436436`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 26->
                
                GraphicsBox[
                 PointBox[{3.673213570587972, -1.6047484850268496`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 27->
                
                GraphicsBox[
                 PointBox[{3.5405349276467692`, -1.6703479544100557`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 28->
                
                GraphicsBox[
                 PointBox[{3.4078562847055665`, -1.7359474237932617`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 29->
                
                GraphicsBox[
                 PointBox[{3.2751776417643637`, -1.8015468931764678`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 30->
                
                GraphicsBox[
                 PointBox[{3.142498998823161, -1.8671463625596738`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 31->
                
                GraphicsBox[
                 PointBox[{3.009820355881958, -1.9327458319428799`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 32->
                
                GraphicsBox[
                 PointBox[{2.8771417129407553`, -1.998345301326086}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 33->
                
                GraphicsBox[
                 PointBox[{2.7444630699995525`, -2.0639447707092917`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 34->
                
                GraphicsBox[
                 PointBox[{2.6117844270583497`, -2.1295442400924975`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 35->
                
                GraphicsBox[
                 PointBox[{2.479105784117147, -2.1951437094757034`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 36->
                
                GraphicsBox[PointBox[{2.346427141175944, -2.260743178858909}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 37->
                
                GraphicsBox[
                 PointBox[{2.2137484982347413`, -2.326342648242115}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 38->
                
                GraphicsBox[
                 PointBox[{2.0810698552935385`, -2.391942117625321}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 39->
                
                GraphicsBox[
                 PointBox[{1.9483912123523357`, -2.4575415870085267`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 40->
                
                GraphicsBox[
                 PointBox[{1.815712569411133, -2.5231410563917325`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 41->
                GraphicsBox[PointBox[{1.68303392646993, -2.5887405257749383`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 42->
                
                GraphicsBox[
                 PointBox[{1.5503552835287273`, -2.654339995158144}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 43->
                GraphicsBox[PointBox[{1.4176766405875245`, -2.71993946454135}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 44->
                
                GraphicsBox[
                 PointBox[{1.2849979976463217`, -2.7855389339245558`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 45->
                
                GraphicsBox[
                 PointBox[{1.152319354705119, -2.8511384033077616`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 46->
                
                GraphicsBox[
                 PointBox[{1.0196407117639161`, -2.9167378726909674`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 47->
                
                GraphicsBox[
                 PointBox[{0.8869620688227133, -2.9823373420741732`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 48->
                GraphicsBox[PointBox[{0.7542834258815105, -3.047936811457379}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 49->
                GraphicsBox[PointBox[{0.6216047829403077, -3.113536280840585}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 50->
                
                GraphicsBox[
                 PointBox[{0.48892613999910495`, -3.1791357502237907`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 51->
                
                GraphicsBox[
                 PointBox[{0.35624749705790215`, -3.2447352196069965`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 52->
                
                GraphicsBox[
                 PointBox[{0.22356885411669936`, -3.3103346889902023`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 53->
                
                GraphicsBox[
                 PointBox[{0.09089021117549656, -3.375934158373408}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 54->
                
                GraphicsBox[
                 PointBox[{-0.041788431765706235`, -3.441533627756614}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 55->
                
                GraphicsBox[
                 PointBox[{-0.17446707470690903`, -3.50713309713982}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 56->
                
                GraphicsBox[
                 PointBox[{-0.3071457176481118, -3.5727325665230256`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 57->
                
                GraphicsBox[
                 PointBox[{-0.4398243605893146, -3.6383320359062314`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 58->
                
                GraphicsBox[
                 PointBox[{-0.5725030035305174, -3.7039315052894373`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 59->
                
                GraphicsBox[
                 PointBox[{-0.7051816464717202, -3.769530974672643}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 60->
                GraphicsBox[PointBox[{-0.837860289412923, -3.835130444055849}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 61->
                
                GraphicsBox[
                 PointBox[{-0.9705389323541258, -3.9007299134390547`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 62->
                
                GraphicsBox[
                 PointBox[{-1.1032175752953286`, -3.9663293828222606`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 63->
                
                GraphicsBox[
                 PointBox[{-1.2358962182365314`, -4.031928852205467}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 64->
                
                GraphicsBox[
                 PointBox[{-1.3685748611777342`, -4.097528321588673}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 65->
                
                GraphicsBox[
                 PointBox[{-1.501253504118937, -4.1631277909718785`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 66->
                
                GraphicsBox[
                 PointBox[{-1.6339321470601398`, -4.228727260355084}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 67->
                
                GraphicsBox[
                 PointBox[{-1.7666107900013426`, -4.29432672973829}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 68->
                
                GraphicsBox[
                 PointBox[{-1.8992894329425454`, -4.359926199121496}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 69->
                GraphicsBox[PointBox[{-2.031968075883748, -4.425525668504702}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 70->
                GraphicsBox[PointBox[{-2.164646718824951, -4.491125137887908}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 71->
                
                GraphicsBox[
                 PointBox[{-2.2973253617661538`, -4.556724607271113}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 72->
                
                GraphicsBox[
                 PointBox[{-2.4300040047073566`, -4.622324076654319}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 73->
                
                GraphicsBox[
                 PointBox[{-2.5626826476485594`, -4.687923546037525}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 74->
                GraphicsBox[PointBox[{-2.695361290589762, -4.753523015420731}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 75->
                GraphicsBox[PointBox[{-2.828039933530965, -4.819122484803937}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 76->
                
                GraphicsBox[
                 PointBox[{-2.9607185764721677`, -4.8847219541871425`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 77->
                
                GraphicsBox[
                 PointBox[{-3.0933972194133705`, -4.950321423570348}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 78->
                GraphicsBox[PointBox[{-3.2260758623545733`, -5}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 79->
                GraphicsBox[PointBox[{-3.358754505295776, -4.934400530616794}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 80->
                GraphicsBox[PointBox[{-3.491433148236979, -4.868801061233588}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 81->
                
                GraphicsBox[
                 PointBox[{-3.6241117911781817`, -4.8032015918503825`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 82->
                
                GraphicsBox[
                 PointBox[{-3.7567904341193845`, -4.737602122467177}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 83->
                
                GraphicsBox[
                 PointBox[{-3.8894690770605873`, -4.672002653083971}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 84->
                
                GraphicsBox[PointBox[{-4.02214772000179, -4.606403183700765}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 85->
                GraphicsBox[PointBox[{-4.154826362942993, -4.540803714317559}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 86->
                GraphicsBox[PointBox[{-4.287505005884196, -4.475204244934353}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 87->
                
                GraphicsBox[
                 PointBox[{-4.4201836488253985`, -4.409604775551148}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 88->
                GraphicsBox[PointBox[{-4.552862291766601, -4.344005306167942}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 89->
                GraphicsBox[PointBox[{-4.685540934707804, -4.278405836784736}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 90->
                
                GraphicsBox[PointBox[{-4.818219577649007, -4.21280636740153}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 91->
                
                GraphicsBox[PointBox[{-4.95089822059021, -4.147206898018324}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 92->
                GraphicsBox[PointBox[{-5, -4.0816074286351185`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 93->
                GraphicsBox[PointBox[{-4.867321357058797, -4.016007959251913}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 94->
                GraphicsBox[PointBox[{-4.734642714117594, -3.950408489868707}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 95->
                GraphicsBox[PointBox[{-4.601964071176392, -3.884809020485501}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 96->
                GraphicsBox[PointBox[{-4.469285428235189, -3.819209551102295}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 97->
                
                GraphicsBox[
                 PointBox[{-4.336606785293986, -3.7536100817190894`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 98->
                
                GraphicsBox[
                 PointBox[{-4.203928142352783, -3.6880106123358836`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 99->
                
                GraphicsBox[
                 PointBox[{-4.07124949941158, -3.6224111429526777`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 100->
                
                GraphicsBox[
                 PointBox[{-3.9385708564703776`, -3.556811673569472}],
                 PlotRange->{{-5, 5}, {-5, 5}}]}, Dynamic[$CellContext`i4$$],
                Alignment->Automatic,
                BaseStyle->"ListAnimateCore",
                ImageSize->All,
                TransitionDirection->Horizontal,
                TransitionDuration->0.5,
                TransitionEffect->Automatic],
               Identity,
               Editable->True,
               Selectable->True],
              ImageMargins->10],
             Deployed->False,
             StripOnInput->False,
             ScriptLevel->0,
             GraphicsBoxOptions->{PreserveImageOptions->True},
             Graphics3DBoxOptions->{PreserveImageOptions->True}],
            Identity,
            Editable->False,
            Selectable->False],
           Alignment->{Left, Center},
           Background->GrayLevel[1],
           Frame->1,
           FrameStyle->GrayLevel[0, 0.2],
           ItemSize->Automatic,
           StripOnInput->False]}
        },
        AutoDelete->False,
        GridBoxAlignment->{
         "Columns" -> {{Left}}, "ColumnsIndexed" -> {}, "Rows" -> {{Top}}, 
          "RowsIndexed" -> {}},
        GridBoxDividers->{
         "Columns" -> {{False}}, "ColumnsIndexed" -> {}, "Rows" -> {{False}}, 
          "RowsIndexed" -> {}},
        GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}},
        GridBoxSpacings->{"Columns" -> {
            Offset[0.7], {
             Offset[0.5599999999999999]}, 
            Offset[0.7]}, "ColumnsIndexed" -> {}, "Rows" -> {
            Offset[0.4], {
             Offset[0.8]}, 
            Offset[0.4]}, "RowsIndexed" -> {}}], If[
        And[
         CurrentValue["NotebookSelected"], 
         CurrentValue["SelectionOver"]], 
        Manipulate`Dump`ReadControllerState[
         Map[Manipulate`Dump`updateOneVar[#, 
           CurrentValue["PreviousFormatTime"], 
           CurrentValue["CurrentFormatTime"]]& , {
           
           Manipulate`Dump`controllerLink[{$CellContext`i4$$, \
$CellContext`i4$56567$$}, "X1", 
            If["DefaultAbsolute", True, "JB1"], False, {1, 100, 1}, 100, 
            1.]}], 
         CurrentValue[{
          "ControllerData", {
           "Gamepad", "Joystick", "Multi-Axis Controller"}}], {}]],
       ImageSizeCache->{393., {207.884033203125, 213.615966796875}}],
      DefaultBaseStyle->{},
      FrameMargins->{{5, 5}, {5, 5}}],
     BaselinePosition->Automatic,
     ImageMargins->0],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "ListAnimate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output",
 CellChangeTimes->{3.7109823486541*^9, 
  3.710982393243327*^9},ExpressionUUID->"a2081d31-3512-4a23-bc52-\
088568016e43"]
}, Open  ]],

Cell["\<\
Randomize the position and velocity and do it again, but faster\
\>", "Text",
 CellChangeTimes->{{3.710982408454907*^9, 
  3.7109824596521072`*^9}},ExpressionUUID->"f28aa480-e06c-4d66-90fe-\
c5b9c3a6e652"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"ball", "[", 
    RowBox[{"{", 
     RowBox[{"\"\<Position\>\"", ",", "\"\<Velocity\>\""}], "}"}], "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"RandomReal", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"-", "5"}], ",", "5"}], "}"}], ",", "2"}], "]"}], ",", 
     RowBox[{"RandomReal", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"-", "2.5"}], ",", "2.5"}], "}"}], ",", "2"}], "]"}]}], 
    "}"}]}], ";"}], "\n", 
 RowBox[{"With", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"box", "=", 
     RowBox[{"ball", "[", "\"\<Box\>\"", "]"}]}], "}"}], ",", "\n", "\t", 
   RowBox[{"ListAnimate", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{
      RowBox[{"Graphics", "[", 
       RowBox[{
        RowBox[{"Point", "[", "#", "]"}], ",", 
        RowBox[{"PlotRange", "\[Rule]", "box"}]}], "]"}], "&"}], "/@", 
     RowBox[{
      RowBox[{"ball", "[", "\"\<Step\>\"", "]"}], "[", 
      RowBox[{
       RowBox[{"Quantity", "[", 
        RowBox[{"2", ",", "\"\<Seconds\>\""}], "]"}], ",", "100"}], "]"}]}], 
    "\n", "\t\t", "]"}]}], "\n", "\t", "]"}]}], "Code",
 CellChangeTimes->{{3.7109824338318996`*^9, 
  3.710982476036791*^9}},ExpressionUUID->"1d4b08c4-6a43-4d4a-a4bf-\
ae2479562f6f"],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{$CellContext`i6$$ = 1, Typeset`show$$ = True, 
    Typeset`bookmarkList$$ = {
    "\"min\"" :> {$CellContext`i6$$ = 1}, 
     "\"max\"" :> {$CellContext`i6$$ = 100}}, Typeset`bookmarkMode$$ = "Menu",
     Typeset`animator$$, Typeset`animvar$$ = 1, Typeset`name$$ = 
    "\"untitled\"", Typeset`specs$$ = {{{
       Hold[$CellContext`i6$$], 1, ""}, 1, 100, 1}}, Typeset`size$$ = 
    Automatic, Typeset`update$$ = 0, Typeset`initDone$$, 
    Typeset`skipInitDone$$ = True, $CellContext`i6$56616$$ = 0}, 
    PaneBox[
     PanelBox[
      DynamicWrapperBox[GridBox[{
         {
          ItemBox[
           ItemBox[
            TagBox[
             StyleBox[GridBox[{
                {"\<\"\"\>", 
                 AnimatorBox[Dynamic[$CellContext`i6$$], {1, 100, 1},
                  AnimationRate->Automatic,
                  AnimationRunTime->5.498382091522217,
                  AnimationRunning->False,
                  AnimationTimeIndex->0.,
                  
                  AppearanceElements->{
                   "ProgressSlider", "PlayPauseButton", "FasterSlowerButtons",
                     "DirectionButton"},
                  AutoAction->False,
                  DisplayAllSteps->True]}
               },
               AutoDelete->False,
               
               GridBoxAlignment->{
                "Columns" -> {Right, {Left}}, "ColumnsIndexed" -> {}, 
                 "Rows" -> {{Baseline}}, "RowsIndexed" -> {}},
               
               GridBoxItemSize->{
                "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}], 
              "ListAnimateLabel",
              StripOnInput->False],
             {"ControlArea", Top}],
            Alignment->{Automatic, Inherited},
            StripOnInput->False],
           Background->None,
           StripOnInput->False]},
         {
          ItemBox[
           TagBox[
            StyleBox[
             PaneBox[
              TagBox[
               PaneSelectorBox[{1->
                
                GraphicsBox[
                 PointBox[{-2.906364343419172, 2.0244119705467796`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 2->
                
                GraphicsBox[
                 PointBox[{-2.6684782149127635`, 2.3382065819028632`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 3->
                
                GraphicsBox[PointBox[{-2.430592086406355, 2.652001193258947}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 4->
                
                GraphicsBox[
                 PointBox[{-2.192705957899946, 2.9657958046150306`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 5->
                
                GraphicsBox[
                 PointBox[{-1.9548198293935375`, 3.2795904159711142`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 6->
                
                GraphicsBox[
                 PointBox[{-1.7169337008871288`, 3.593385027327198}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 7->
                
                GraphicsBox[
                 PointBox[{-1.4790475723807202`, 3.9071796386832816`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 8->
                
                GraphicsBox[
                 PointBox[{-1.2411614438743115`, 4.220974250039365}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 9->
                
                GraphicsBox[
                 PointBox[{-1.0032753153679028`, 4.534768861395449}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 10->
                
                GraphicsBox[
                 PointBox[{-0.7653891868614942, 4.8485634727515325`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 11->
                GraphicsBox[PointBox[{-0.5275030583550855, 5}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 12->
                GraphicsBox[PointBox[{-0.2896169298486768, 4.686205388643916}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 13->
                
                GraphicsBox[
                 PointBox[{-0.05173080134226815, 4.372410777287833}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 14->
                
                GraphicsBox[
                 PointBox[{0.18615532716414052`, 4.058616165931749}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 15->
                
                GraphicsBox[
                 PointBox[{0.4240414556705492, 3.7448215545756653`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 16->
                
                GraphicsBox[
                 PointBox[{0.6619275841769579, 3.4310269432195817`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 17->
                
                GraphicsBox[PointBox[{0.8998137126833665, 3.117232331863498}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 18->
                
                GraphicsBox[
                 PointBox[{1.1376998411897752`, 2.8034377205074144`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 19->
                
                GraphicsBox[
                 PointBox[{1.3755859696961839`, 2.4896431091513307`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 20->
                GraphicsBox[PointBox[{1.6134720982025925`, 2.175848497795247}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 21->
                
                GraphicsBox[
                 PointBox[{1.8513582267090012`, 1.8620538864391634`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 22->
                
                GraphicsBox[PointBox[{2.08924435521541, 1.5482592750830797`}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 23->
                GraphicsBox[PointBox[{2.3271304837218185`, 1.234464663726996}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 24->
                
                GraphicsBox[PointBox[{2.565016612228227, 0.9206700523709124}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 25->
                
                GraphicsBox[PointBox[{2.802902740734636, 0.6068754410148287}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 26->
                
                GraphicsBox[
                 PointBox[{3.0407888692410445`, 0.29308082965874505`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 27->
                
                GraphicsBox[
                 PointBox[{3.278674997747453, -0.020713781697338618`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 28->
                GraphicsBox[PointBox[{3.516561126253862, -0.3345083930534223}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 29->
                
                GraphicsBox[
                 PointBox[{3.7544472547602705`, -0.648303004409506}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 30->
                GraphicsBox[PointBox[{3.992333383266679, -0.9620976157655896}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 31->
                
                GraphicsBox[
                 PointBox[{4.230219511773088, -1.2758922271216733`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 32->
                
                GraphicsBox[
                 PointBox[{4.4681056402794965`, -1.589686838477757}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 33->
                
                GraphicsBox[
                 PointBox[{4.705991768785905, -1.9034814498338406`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 34->
                
                GraphicsBox[
                 PointBox[{4.943877897292314, -2.2172760611899243`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 35->
                GraphicsBox[PointBox[{5, -2.531070672546008}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 36->
                
                GraphicsBox[
                 PointBox[{4.762113871493591, -2.8448652839020916`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 37->
                
                GraphicsBox[
                 PointBox[{4.524227742987183, -3.1586598952581753`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 38->
                
                GraphicsBox[PointBox[{4.286341614480774, -3.472454506614259}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 39->
                
                GraphicsBox[
                 PointBox[{4.048455485974365, -3.7862491179703426`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 40->
                
                GraphicsBox[
                 PointBox[{3.8105693574679567`, -4.100043729326426}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 41->
                GraphicsBox[PointBox[{3.572683228961548, -4.41383834068251}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 42->
                
                GraphicsBox[
                 PointBox[{3.3347971004551393`, -4.727632952038594}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 43->
                GraphicsBox[PointBox[{3.0969109719487307`, -5}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 44->
                
                GraphicsBox[PointBox[{2.859024843442322, -4.686205388643916}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 45->
                
                GraphicsBox[
                 PointBox[{2.6211387149359133`, -4.372410777287833}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 46->
                
                GraphicsBox[
                 PointBox[{2.3832525864295047`, -4.058616165931749}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 47->
                
                GraphicsBox[
                 PointBox[{2.145366457923096, -3.7448215545756653`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 48->
                
                GraphicsBox[
                 PointBox[{1.9074803294166873`, -3.4310269432195817`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 49->
                
                GraphicsBox[
                 PointBox[{1.6695942009102787`, -3.117232331863498}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 50->
                GraphicsBox[PointBox[{1.43170807240387, -2.8034377205074144`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 51->
                
                GraphicsBox[
                 PointBox[{1.1938219438974613`, -2.4896431091513307`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 52->
                GraphicsBox[PointBox[{0.9559358153910527, -2.175848497795247}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 53->
                
                GraphicsBox[
                 PointBox[{0.718049686884644, -1.8620538864391634`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 54->
                
                GraphicsBox[
                 PointBox[{0.4801635583782353, -1.5482592750830797`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 55->
                
                GraphicsBox[
                 PointBox[{0.24227742987182666`, -1.234464663726996}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 56->
                
                GraphicsBox[
                 PointBox[{0.004391301365417988, -0.9206700523709124}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 57->
                
                GraphicsBox[
                 PointBox[{-0.23349482714099068`, -0.6068754410148287}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 58->
                
                GraphicsBox[
                 PointBox[{-0.47138095564739935`, -0.29308082965874505`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 59->
                
                GraphicsBox[
                 PointBox[{-0.709267084153808, 0.020713781697338618`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 60->
                
                GraphicsBox[
                 PointBox[{-0.9471532126602167, 0.3345083930534223}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 61->
                
                GraphicsBox[
                 PointBox[{-1.1850393411666253`, 0.648303004409506}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 62->
                GraphicsBox[PointBox[{-1.422925469673034, 0.9620976157655896}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 63->
                
                GraphicsBox[
                 PointBox[{-1.6608115981794427`, 1.2758922271216733`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 64->
                
                GraphicsBox[
                 PointBox[{-1.8986977266858514`, 1.589686838477757}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 65->
                GraphicsBox[PointBox[{-2.13658385519226, 1.9034814498338406`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 66->
                
                GraphicsBox[
                 PointBox[{-2.3744699836986687`, 2.2172760611899243`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 67->
                
                GraphicsBox[
                 PointBox[{-2.6123561122050774`, 2.531070672546008}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 68->
                
                GraphicsBox[
                 PointBox[{-2.850242240711486, 2.8448652839020916`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 69->
                
                GraphicsBox[
                 PointBox[{-3.0881283692178947`, 3.1586598952581753`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 70->
                
                GraphicsBox[
                 PointBox[{-3.3260144977243034`, 3.472454506614259}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 71->
                
                GraphicsBox[
                 PointBox[{-3.563900626230712, 3.7862491179703426`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 72->
                
                GraphicsBox[
                 PointBox[{-3.8017867547371207`, 4.100043729326426}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 73->
                GraphicsBox[PointBox[{-4.039672883243529, 4.41383834068251}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 74->
                
                GraphicsBox[PointBox[{-4.277559011749938, 4.727632952038594}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 75->
                GraphicsBox[PointBox[{-4.515445140256347, 5}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 76->
                
                GraphicsBox[PointBox[{-4.753331268762755, 4.686205388643916}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 77->
                
                GraphicsBox[PointBox[{-4.991217397269164, 4.372410777287833}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 78->
                GraphicsBox[PointBox[{-5, 4.058616165931749}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 79->
                
                GraphicsBox[
                 PointBox[{-4.762113871493591, 3.7448215545756653`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 80->
                
                GraphicsBox[
                 PointBox[{-4.524227742987183, 3.4310269432195817`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 81->
                
                GraphicsBox[PointBox[{-4.286341614480774, 3.117232331863498}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 82->
                
                GraphicsBox[
                 PointBox[{-4.048455485974365, 2.8034377205074144`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 83->
                
                GraphicsBox[
                 PointBox[{-3.8105693574679567`, 2.4896431091513307`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 84->
                
                GraphicsBox[PointBox[{-3.572683228961548, 2.175848497795247}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 85->
                
                GraphicsBox[
                 PointBox[{-3.3347971004551393`, 1.8620538864391634`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 86->
                GraphicsBox[
                 PointBox[{-3.0969109719487307`, 1.5482592750830797`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 87->
                
                GraphicsBox[PointBox[{-2.859024843442322, 1.234464663726996}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 88->
                
                GraphicsBox[
                 PointBox[{-2.6211387149359133`, 0.9206700523709124}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 89->
                
                GraphicsBox[
                 PointBox[{-2.3832525864295047`, 0.6068754410148287}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 90->
                
                GraphicsBox[
                 PointBox[{-2.145366457923096, 0.29308082965874505`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 91->
                
                GraphicsBox[
                 PointBox[{-1.9074803294166873`, -0.020713781697338618`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 92->
                
                GraphicsBox[
                 PointBox[{-1.6695942009102787`, -0.3345083930534223}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 93->
                
                GraphicsBox[PointBox[{-1.43170807240387, -0.648303004409506}],
                 
                 PlotRange->{{-5, 5}, {-5, 5}}], 94->
                
                GraphicsBox[
                 PointBox[{-1.1938219438974613`, -0.9620976157655896}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 95->
                
                GraphicsBox[
                 PointBox[{-0.9559358153910527, -1.2758922271216733`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 96->
                GraphicsBox[PointBox[{-0.718049686884644, -1.589686838477757}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 97->
                
                GraphicsBox[
                 PointBox[{-0.4801635583782353, -1.9034814498338406`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 98->
                
                GraphicsBox[
                 PointBox[{-0.24227742987182666`, -2.2172760611899243`}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 99->
                
                GraphicsBox[
                 PointBox[{-0.004391301365417988, -2.531070672546008}],
                 PlotRange->{{-5, 5}, {-5, 5}}], 100->
                
                GraphicsBox[
                 PointBox[{0.23349482714099068`, -2.8448652839020916`}],
                 PlotRange->{{-5, 5}, {-5, 5}}]}, Dynamic[$CellContext`i6$$],
                Alignment->Automatic,
                BaseStyle->"ListAnimateCore",
                ImageSize->All,
                TransitionDirection->Horizontal,
                TransitionDuration->0.5,
                TransitionEffect->Automatic],
               Identity,
               Editable->True,
               Selectable->True],
              ImageMargins->10],
             Deployed->False,
             StripOnInput->False,
             ScriptLevel->0,
             GraphicsBoxOptions->{PreserveImageOptions->True},
             Graphics3DBoxOptions->{PreserveImageOptions->True}],
            Identity,
            Editable->False,
            Selectable->False],
           Alignment->{Left, Center},
           Background->GrayLevel[1],
           Frame->1,
           FrameStyle->GrayLevel[0, 0.2],
           ItemSize->Automatic,
           StripOnInput->False]}
        },
        AutoDelete->False,
        GridBoxAlignment->{
         "Columns" -> {{Left}}, "ColumnsIndexed" -> {}, "Rows" -> {{Top}}, 
          "RowsIndexed" -> {}},
        GridBoxDividers->{
         "Columns" -> {{False}}, "ColumnsIndexed" -> {}, "Rows" -> {{False}}, 
          "RowsIndexed" -> {}},
        GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}},
        GridBoxSpacings->{"Columns" -> {
            Offset[0.7], {
             Offset[0.5599999999999999]}, 
            Offset[0.7]}, "ColumnsIndexed" -> {}, "Rows" -> {
            Offset[0.4], {
             Offset[0.8]}, 
            Offset[0.4]}, "RowsIndexed" -> {}}], If[
        And[
         CurrentValue["NotebookSelected"], 
         CurrentValue["SelectionOver"]], 
        Manipulate`Dump`ReadControllerState[
         Map[Manipulate`Dump`updateOneVar[#, 
           CurrentValue["PreviousFormatTime"], 
           CurrentValue["CurrentFormatTime"]]& , {
           
           Manipulate`Dump`controllerLink[{$CellContext`i6$$, \
$CellContext`i6$56616$$}, "X1", 
            If["DefaultAbsolute", True, "JB1"], False, {1, 100, 1}, 100, 
            1.]}], 
         CurrentValue[{
          "ControllerData", {
           "Gamepad", "Joystick", "Multi-Axis Controller"}}], {}]],
       ImageSizeCache->{393., {207.884033203125, 213.615966796875}}],
      DefaultBaseStyle->{},
      FrameMargins->{{5, 5}, {5, 5}}],
     BaselinePosition->Automatic,
     ImageMargins->0],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "ListAnimate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output",
 CellChangeTimes->{{3.71098247196659*^9, 
  3.7109824763246307`*^9}},ExpressionUUID->"b1d883d2-2635-4358-a803-\
699bf8296f99"]
}, Open  ]],

Cell["\<\
This is a basic example of the sort of thing OOP brings to the table and, \
with enough work, it\[CloseCurlyQuote]s pretty fast and nice enough to work \
with.\
\>", "Text",
 CellChangeTimes->{{3.7109824871835003`*^9, 
  3.7109825166459837`*^9}},ExpressionUUID->"e4bc1e47-e434-436e-9bd8-\
892a62a2b355"]
}, Open  ]]
}, Open  ]]
},
WindowSize->{808, 755},
WindowMargins->{{87, Automatic}, {Automatic, 0}},
FrontEndVersion->"11.1 for Mac OS X x86 (32-bit, 64-bit Kernel) (April 27, \
2017)",
StyleDefinitions->FrontEnd`FileName[{"BTools"}, "PelicanMarkdown.nb", 
  CharacterEncoding -> "UTF-8"]
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 1587, 35, 242, "Metadata", "ExpressionUUID" -> \
"15077bdd-b3c3-4959-8803-cc7db96083f3"],
Cell[2148, 57, 1141, 27, 68, "Text", "ExpressionUUID" -> \
"b67d60d8-de55-4ea4-8e6b-33384404b6ce"],
Cell[3292, 86, 277, 6, 30, "Text", "ExpressionUUID" -> \
"4b8256ab-7507-44a7-96aa-1d0675332f8b"],
Cell[CellGroupData[{
Cell[3594, 96, 175, 3, 30, "Item", "ExpressionUUID" -> \
"f956169e-d9ba-48ad-bae0-efd983cbab23"],
Cell[3772, 101, 209, 4, 30, "Item", "ExpressionUUID" -> \
"2014b9e3-fc3f-404e-b40a-82981f31e8fd"],
Cell[3984, 107, 172, 3, 30, "Item", "ExpressionUUID" -> \
"1bc34c03-ef9b-4238-afe7-ac65e1915fca"],
Cell[4159, 112, 224, 5, 30, "Item", "ExpressionUUID" -> \
"f46bc5e4-82c2-44eb-b02f-523671085db8"],
Cell[4386, 119, 265, 6, 30, "Item", "ExpressionUUID" -> \
"ace5bc1a-1a13-4f51-8ebd-3d5f5de1a78f"]
}, Open  ]],
Cell[4666, 128, 270, 4, 30, "Text", "ExpressionUUID" -> \
"c7bc3453-c92c-415d-a876-db0edd6b02b4"],
Cell[CellGroupData[{
Cell[4961, 136, 217, 4, 44, "Subsection", "ExpressionUUID" -> \
"b0486bf2-cdcd-450c-8f69-35543c8f043e"],
Cell[CellGroupData[{
Cell[5203, 144, 171, 3, 35, "Subsubsection", "ExpressionUUID" -> \
"08cbfc52-7e84-48d0-b20e-02315219756b"],
Cell[5377, 149, 814, 19, 70, "Text", "ExpressionUUID" -> \
"6618e657-8ec4-4a30-8295-c6dc4b11585b"],
Cell[CellGroupData[{
Cell[6216, 172, 240, 4, 30, "Item", "ExpressionUUID" -> \
"07b70361-5448-4804-bbf8-a501ea5370c2"],
Cell[6459, 178, 186, 3, 30, "Item", "ExpressionUUID" -> \
"122017fa-c1e3-4352-8c35-e8c2ffa59ce2"],
Cell[6648, 183, 308, 7, 30, "Item", "ExpressionUUID" -> \
"69dc9334-a9eb-49f4-8c29-3bea1b3bd661"]
}, Open  ]],
Cell[6971, 193, 504, 9, 87, "Text", "ExpressionUUID" -> \
"bbeeecf9-d9ee-4781-ad79-88059b0745b7"],
Cell[7478, 204, 414, 10, 31, "Text", "ExpressionUUID" -> \
"854b4bc8-3f15-42e6-a818-cfa2cc582f3d"],
Cell[7895, 216, 564, 14, 148, "Code", "ExpressionUUID" -> \
"b08d5b56-f8e4-4da4-9b63-218c12d969c2"],
Cell[8462, 232, 446, 9, 68, "Text", "ExpressionUUID" -> \
"4145609d-fd1f-4fca-8261-9fb67b30d0da"]
}, Open  ]],
Cell[CellGroupData[{
Cell[8945, 246, 166, 3, 35, "Subsubsection", "ExpressionUUID" -> \
"46e4d2da-eed1-4ebe-9d0a-531dfbbda7bd"],
Cell[9114, 251, 743, 17, 71, "Text", "ExpressionUUID" -> \
"50bdf6d8-de1a-4562-a48e-cd5066e4c521"],
Cell[CellGroupData[{
Cell[9882, 272, 238, 6, 30, "Item", "ExpressionUUID" -> \
"a4c6f900-6011-4bfd-bdbc-31e24584bc2e"],
Cell[10123, 280, 201, 3, 30, "Item", "ExpressionUUID" -> \
"b2f5e7a7-8b0e-47fc-bd08-5203f07fde56"],
Cell[10327, 285, 270, 6, 30, "Item", "ExpressionUUID" -> \
"4630256f-a310-4165-bbf8-604357fa5a52"]
}, Open  ]],
Cell[10612, 294, 957, 22, 70, "Text", "ExpressionUUID" -> \
"a7c6828a-7a3b-4570-9c30-a4c3811aebdb"],
Cell[11572, 318, 4809, 112, 927, "Code", "ExpressionUUID" -> \
"bb733358-aaf9-4c65-ad48-f8667368fe0c"],
Cell[16384, 432, 1222, 26, 89, "Text", "ExpressionUUID" -> \
"1ee67109-41c3-4baa-8e40-a8d8d99fefa8"],
Cell[17609, 460, 594, 12, 50, "Text", "ExpressionUUID" -> \
"b1deac2d-78b7-4bbc-8bd4-2d39304a6dd8"],
Cell[18206, 474, 330, 7, 30, "Text", "ExpressionUUID" -> \
"2f0222d9-d73e-48c0-936a-22560eac71bb"],
Cell[18539, 483, 1653, 47, 226, "Code", "ExpressionUUID" -> \
"5858a648-aca8-49ff-916d-1c56286554e2"],
Cell[20195, 532, 334, 7, 30, "Text", "ExpressionUUID" -> \
"a74e7a3f-cadb-4935-8edb-7471ccceaa24"],
Cell[20532, 541, 334, 5, 30, "Text", "ExpressionUUID" -> \
"8a720fff-3454-42c2-a499-6fff5bab213a"],
Cell[CellGroupData[{
Cell[20891, 550, 571, 13, 52, "Code", "ExpressionUUID" -> \
"31b1bcac-3ef0-4918-ad33-a3f7815e4e8b"],
Cell[21465, 565, 106, 0, 32, "Output", "ExpressionUUID" -> \
"1d2577b8-54da-4c2c-8591-6471d004b31f"]
}, Open  ]],
Cell[21586, 568, 306, 7, 30, "Text", "ExpressionUUID" -> \
"d3f62aea-ee4f-4654-805b-2eaef34af3cc"],
Cell[CellGroupData[{
Cell[21917, 579, 1033, 27, 167, "Code", "ExpressionUUID" -> \
"87d92c7b-2ae5-4642-bc0c-f0a918639cff"],
Cell[22953, 608, 178, 3, 32, "Output", "ExpressionUUID" -> \
"f22f0af4-ab50-4a66-bcc6-cc0a243d3fed"]
}, Open  ]],
Cell[23146, 614, 193, 3, 30, "Text", "ExpressionUUID" -> \
"cecb3d14-fd14-43cb-9a0c-aa1e0e71107e"],
Cell[CellGroupData[{
Cell[23364, 621, 574, 13, 129, "Code", "ExpressionUUID" -> \
"5fa3c454-dd9b-42d0-9115-78e5b1ebad00"],
Cell[23941, 636, 153, 3, 32, "Output", "ExpressionUUID" -> \
"2a0a599c-f388-4a15-91ae-4aa170eef40f"]
}, Open  ]],
Cell[24109, 642, 205, 3, 30, "Text", "ExpressionUUID" -> \
"b885d47f-4f29-4e9f-83b1-127089ad7a78"]
}, Open  ]],
Cell[CellGroupData[{
Cell[24351, 650, 266, 4, 35, "Subsubsection", "ExpressionUUID" -> \
"22a9b703-4de3-459d-9038-663f1195c0cb"],
Cell[24620, 656, 923, 21, 70, "Text", "ExpressionUUID" -> \
"98e7906e-22ba-48e5-bacd-05dacb911f14"],
Cell[25546, 679, 212, 4, 30, "Text", "ExpressionUUID" -> \
"d6096437-002d-400d-80f6-4e5215488fea"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[25807, 689, 161, 3, 44, "Subsection", "ExpressionUUID" -> \
"95a06430-821d-4964-b78a-0376166fb614"],
Cell[CellGroupData[{
Cell[25993, 696, 191, 3, 35, "Subsubsection", "ExpressionUUID" -> \
"f499eb4f-4aa7-4326-9399-804ae7474cd2"],
Cell[26187, 701, 1319, 29, 109, "Text", "ExpressionUUID" -> \
"f8dc3ead-38af-47ac-aec5-7f6ff5cf9b40"],
Cell[27509, 732, 1125, 31, 149, "Code", "ExpressionUUID" -> \
"86ad358d-7539-4c52-a2ce-5811c0d5285d"],
Cell[28637, 765, 282, 7, 30, "Text", "ExpressionUUID" -> \
"b2050a3a-e398-4ab4-8960-6012f92a2ad9"],
Cell[28922, 774, 1002, 24, 300, "Code", "ExpressionUUID" -> \
"05a535a3-b4f3-45bd-b796-c13b13a9a347"],
Cell[29927, 800, 415, 8, 49, "Text", "ExpressionUUID" -> \
"79e960f7-2602-4cc1-8846-2da04cc22790"],
Cell[30345, 810, 6021, 137, 1421, "Code", "ExpressionUUID" -> \
"d8f2f13b-162a-4bad-ae86-7a65b765ea13"],
Cell[36369, 949, 231, 4, 30, "Text", "ExpressionUUID" -> \
"f182d029-0fbc-4dbb-afc2-0c66956f878b"],
Cell[36603, 955, 3594, 97, 625, "Code", "ExpressionUUID" -> \
"28809812-9f62-4951-9025-f3757fcb8a2b"],
Cell[40200, 1054, 693, 17, 31, "Text", "ExpressionUUID" -> \
"89969ac7-9b55-4283-814d-42964e9b754f"],
Cell[40896, 1073, 595, 15, 50, "Text", "ExpressionUUID" -> \
"b904a076-6a53-41fe-9797-1d2c9f874429"]
}, Open  ]],
Cell[CellGroupData[{
Cell[41528, 1093, 211, 4, 35, "Subsubsection", "ExpressionUUID" -> \
"9d03d41c-e185-4444-9530-3e6ee654a9e9"],
Cell[41742, 1099, 917, 20, 70, "Text", "ExpressionUUID" -> \
"ba3ce250-ad80-4559-bf73-6d5e3c6e9269"],
Cell[42662, 1121, 754, 19, 51, "Text", "ExpressionUUID" -> \
"5f3fab17-eef9-4ef0-b49a-6f3b153de235"],
Cell[43419, 1142, 2554, 68, 414, "Code", "ExpressionUUID" -> \
"fe7ad609-9b75-404b-94e0-80058c44f310"],
Cell[45976, 1212, 612, 11, 68, "Text", "ExpressionUUID" -> \
"6e38a3b1-3522-45b3-a82a-5b342be1a201"]
}, Open  ]],
Cell[CellGroupData[{
Cell[46625, 1228, 167, 3, 35, "Subsubsection", "ExpressionUUID" -> \
"78b19f10-b745-4623-a08a-60d2c51b8ee0"],
Cell[46795, 1233, 568, 14, 31, "Text", "ExpressionUUID" -> \
"4eb0e924-a495-45c9-bc77-bea210795502"],
Cell[47366, 1249, 707, 18, 167, "Code", "ExpressionUUID" -> \
"c01c0204-cd68-4fc1-8267-1eea6adedfb3"],
Cell[48076, 1269, 402, 9, 31, "Text", "ExpressionUUID" -> \
"082e8d98-b7a9-40ae-aaeb-2c212cd9c1ff"],
Cell[48481, 1280, 354, 8, 31, "Text", "ExpressionUUID" -> \
"a38729ae-98cf-4b73-bafd-7af21f9b9dc9"],
Cell[48838, 1290, 781, 20, 186, "Code", "ExpressionUUID" -> \
"d63f8e87-c043-46f6-914f-9f714ea2cd0f"],
Cell[49622, 1312, 332, 9, 31, "Text", "ExpressionUUID" -> \
"a58bb6aa-6644-40f5-bc03-6334109a1ca2"],
Cell[49957, 1323, 1090, 27, 224, "Code", "ExpressionUUID" -> \
"372ab77a-9bab-413b-8091-71665269ef07"],
Cell[51050, 1352, 384, 10, 31, "Text", "ExpressionUUID" -> \
"7afb4aed-179f-46e4-bd17-a97029ad0b52"],
Cell[51437, 1364, 1096, 27, 224, "Code", "ExpressionUUID" -> \
"6ec2d34e-3f40-4729-be4a-6718d8519fc6"],
Cell[52536, 1393, 156, 3, 30, "Text", "ExpressionUUID" -> \
"1f30a976-922b-43c2-bfc1-27aa6d07a81c"]
}, Open  ]],
Cell[CellGroupData[{
Cell[52729, 1401, 179, 3, 35, "Subsubsection", "ExpressionUUID" -> \
"dd2251e7-ccc1-4c78-99c8-770a650dd55a"],
Cell[52911, 1406, 882, 23, 71, "Text", "ExpressionUUID" -> \
"a8be9d1c-3add-4bf0-beb7-e4210f458779"],
Cell[53796, 1431, 1133, 31, 205, "Code", "ExpressionUUID" -> \
"0128cbce-8919-4887-a011-cfe466fbdec0"],
Cell[54932, 1464, 163, 3, 30, "Text", "ExpressionUUID" -> \
"6967100d-9c08-45dc-bd00-355e764b6ce4"],
Cell[55098, 1469, 260, 7, 52, "Code", "ExpressionUUID" -> \
"f81ab9ab-01ba-4eb6-af49-3db96e46d906"],
Cell[55361, 1478, 219, 5, 30, "Text", "ExpressionUUID" -> \
"27afd049-bb3d-4d89-a7d0-6125455006c8"],
Cell[55583, 1485, 217, 5, 52, "Code", "ExpressionUUID" -> \
"386298ee-3d9d-4f32-9c5b-b27ccd5cc48c"]
}, Open  ]],
Cell[CellGroupData[{
Cell[55837, 1495, 174, 3, 35, "Subsubsection", "ExpressionUUID" -> \
"96a7c688-0122-401e-8b24-6be73912bd38"],
Cell[56014, 1500, 904, 25, 31, "Text", "ExpressionUUID" -> \
"f8ada34e-624c-4b88-9115-990967b1a945"],
Cell[56921, 1527, 819, 18, 70, "Text", "ExpressionUUID" -> \
"e58997b4-dc7b-4a43-883c-388eae02c798"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[57789, 1551, 229, 4, 44, "Subsection", "ExpressionUUID" -> \
"1e497613-c7ca-45fd-8abd-9f8808468854"],
Cell[CellGroupData[{
Cell[58043, 1559, 165, 3, 35, "Subsubsection", "ExpressionUUID" -> \
"63a50dfb-9811-473c-87c6-511f83929244"],
Cell[58211, 1564, 590, 10, 68, "Text", "ExpressionUUID" -> \
"4b2bce73-7dd2-419e-8719-86e7b2c4503a"],
Cell[58804, 1576, 1394, 35, 319, "Code", "ExpressionUUID" -> \
"8b02e953-87ce-43f2-a392-a26246b09940"],
Cell[60201, 1613, 239, 6, 30, "Text", "ExpressionUUID" -> \
"bb33860c-709b-4241-b77d-66bf8017f0ad"],
Cell[60443, 1621, 740, 20, 148, "Code", "ExpressionUUID" -> \
"439525a5-f943-45f5-a462-c43a7dd180fb"]
}, Open  ]],
Cell[CellGroupData[{
Cell[61220, 1646, 168, 3, 35, "Subsubsection", "ExpressionUUID" -> \
"d8adaffa-4068-418d-9534-b702a76946fc"],
Cell[61391, 1651, 797, 19, 52, "Text", "ExpressionUUID" -> \
"663b40af-c8e1-4f76-b271-c0e75dc0b5a5"],
Cell[62191, 1672, 777, 17, 129, "Code", "ExpressionUUID" -> \
"5aec0503-aaae-49b6-94f1-819f7cb8f809"],
Cell[62971, 1691, 1059, 22, 71, "Text", "ExpressionUUID" -> \
"adadf313-dedf-499e-83f7-48faa62e9360"],
Cell[64033, 1715, 2720, 72, 455, "Code", "ExpressionUUID" -> \
"db093117-dc49-4ea0-bec6-870271a8f724"],
Cell[66756, 1789, 380, 10, 51, "Text", "ExpressionUUID" -> \
"a69ec15f-cbbf-44c1-86fb-dcaef55ee35a"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[67185, 1805, 176, 3, 44, "Subsection", "ExpressionUUID" -> \
"9e3a6b42-01e6-4483-b45d-baf8531a7e97"],
Cell[67364, 1810, 622, 13, 69, "Text", "ExpressionUUID" -> \
"17d6c643-60f4-4c4b-9567-6dea4ab7d720"],
Cell[CellGroupData[{
Cell[68011, 1827, 173, 3, 35, "Subsubsection", "ExpressionUUID" -> \
"7fb220bb-0614-4663-96d3-bfc6fee6c31d"],
Cell[68187, 1832, 253, 6, 30, "Text", "ExpressionUUID" -> \
"a37c31e7-27ab-4d31-bfcd-88c57bb9b396"],
Cell[68443, 1840, 230, 6, 52, "Code", "ExpressionUUID" -> \
"2452d1a7-c113-4b1d-a458-1568bb052e9a"]
}, Open  ]],
Cell[CellGroupData[{
Cell[68710, 1851, 157, 3, 35, "Subsubsection", "ExpressionUUID" -> \
"15863609-7abc-41fe-b6db-64d4a68d6bae"],
Cell[68870, 1856, 357, 9, 32, "Text", "ExpressionUUID" -> \
"f4e845c2-9424-4650-aed0-9b6b1c3db0c3"],
Cell[69230, 1867, 2873, 68, 549, "Code", "ExpressionUUID" -> \
"46cba635-6297-469a-ab74-aa08b2ac890d"]
}, Open  ]],
Cell[CellGroupData[{
Cell[72140, 1940, 168, 3, 35, "Subsubsection", "ExpressionUUID" -> \
"e3981841-12d8-402b-862e-af74b99ea09a"],
Cell[72311, 1945, 231, 6, 30, "Text", "ExpressionUUID" -> \
"ffa964de-106b-4cee-8450-69f9fbd231ef"],
Cell[72545, 1953, 1155, 33, 262, "Code", "ExpressionUUID" -> \
"ac5afa80-ccaa-414a-b83c-8a8f485a345d"],
Cell[73703, 1988, 162, 3, 30, "Text", "ExpressionUUID" -> \
"191abcd3-0a3a-48d0-b028-57521b429e65"],
Cell[73868, 1993, 3764, 86, 566, "Code", "ExpressionUUID" -> \
"fa55d687-26af-469d-8fa2-5d3f06cffd03"],
Cell[77635, 2081, 362, 9, 31, "Text", "ExpressionUUID" -> \
"c2e1e0f0-550a-4f3c-a143-af71e57d007e"],
Cell[78000, 2092, 1755, 45, 264, "Code", "ExpressionUUID" -> \
"ac2f4813-0ca6-41cd-8cb6-f50240e35883"],
Cell[79758, 2139, 305, 7, 30, "Text", "ExpressionUUID" -> \
"506167ff-5c34-4fd7-aa97-797d50311f03"]
}, Open  ]],
Cell[CellGroupData[{
Cell[80100, 2151, 219, 4, 35, "Subsubsection", "ExpressionUUID" -> \
"7f616f99-47da-492d-817d-b33d4c6eb1e6"],
Cell[80322, 2157, 358, 7, 49, "Text", "ExpressionUUID" -> \
"43691ded-668f-4969-8271-0e81a5c1b9bb"],
Cell[80683, 2166, 397, 12, 91, "Code", "ExpressionUUID" -> \
"7898f177-bf62-432c-aacb-b4574c732e52"],
Cell[81083, 2180, 194, 3, 30, "Text", "ExpressionUUID" -> \
"7de199c2-be89-4892-8b62-19279ff840fd"],
Cell[81280, 2185, 1367, 38, 243, "Code", "ExpressionUUID" -> \
"ca278d65-5e97-4f74-b696-f5fb4abfdf24"]
}, Open  ]],
Cell[CellGroupData[{
Cell[82684, 2228, 153, 3, 35, "Subsubsection", "ExpressionUUID" -> \
"1adff3bb-24f4-4592-8c98-861b15852692"],
Cell[82840, 2233, 688, 16, 50, "Text", "ExpressionUUID" -> \
"bfd7214a-6df1-49ed-b170-a65284e505cb"],
Cell[83531, 2251, 4002, 93, 604, "Code", "ExpressionUUID" -> \
"ddf32706-294d-4864-8872-c3e03e1ad9c9"]
}, Open  ]],
Cell[CellGroupData[{
Cell[87570, 2349, 221, 4, 35, "Subsubsection", "ExpressionUUID" -> \
"411bc693-e8d5-448b-bbb4-5a5d1760861a"],
Cell[87794, 2355, 613, 12, 69, "Text", "ExpressionUUID" -> \
"e0a8a43d-a323-462b-a002-a9a850de9555"],
Cell[88410, 2369, 799, 22, 129, "Code", "ExpressionUUID" -> \
"865e2d70-6b86-457f-aca4-6eff1805e4a5"],
Cell[89212, 2393, 733, 16, 50, "Text", "ExpressionUUID" -> \
"670f6648-43da-4265-af8d-039387dae576"]
}, Open  ]],
Cell[CellGroupData[{
Cell[89982, 2414, 164, 3, 35, "Subsubsection", "ExpressionUUID" -> \
"089fe0c7-925a-45b5-9b2d-739a82c28981"],
Cell[90149, 2419, 585, 12, 69, "Text", "ExpressionUUID" -> \
"fdded8e8-a2c6-4c09-879f-4905396cdcb8"],
Cell[90737, 2433, 1578, 48, 208, "Code", "ExpressionUUID" -> \
"8a9357e9-930c-4bb2-a2aa-7c84e923b112"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[92364, 2487, 170, 3, 64, "Section", "ExpressionUUID" -> \
"24143bc8-02c6-4c08-bb88-7e0211d83b3f"],
Cell[CellGroupData[{
Cell[92559, 2494, 172, 3, 44, "Subsection", "ExpressionUUID" -> \
"46cd0519-ca36-4b6a-ad50-4b2016ef5169"],
Cell[92734, 2499, 481, 9, 49, "Text", "ExpressionUUID" -> \
"cbf91384-2586-445e-9ab0-8c1c632c84b5"],
Cell[93218, 2510, 169, 3, 30, "Text", "ExpressionUUID" -> \
"832cd27c-c385-4587-987d-f80b0879f3d2"],
Cell[CellGroupData[{
Cell[93412, 2517, 439, 8, 52, "Code", "ExpressionUUID" -> \
"fe899d07-5b4b-46f2-a37c-efd43a73e2c7"],
Cell[93854, 2527, 1046, 21, 58, "Output", "ExpressionUUID" -> \
"b44d756e-82a7-45d9-8a0e-2b5609689b42"]
}, Open  ]],
Cell[94915, 2551, 187, 3, 30, "Text", "ExpressionUUID" -> \
"4b8d2eef-245f-45fe-be99-b38285a01881"],
Cell[95105, 2556, 581, 18, 72, "Code", "ExpressionUUID" -> \
"895dd6c8-ce9c-4dae-9308-a242b098aafe"],
Cell[95689, 2576, 413, 10, 31, "Text", "ExpressionUUID" -> \
"4981e47d-22af-4774-bea0-78f8f7259c55"],
Cell[96105, 2588, 6859, 165, 661, "Code", "ExpressionUUID" -> \
"ec6074d1-c7e3-4489-87b4-0406d5e2ce23"],
Cell[102967, 2755, 177, 3, 30, "Text", "ExpressionUUID" -> \
"fa92574b-268e-4093-913a-e08872012ef7"],
Cell[103147, 2760, 1097, 28, 129, "Code", "ExpressionUUID" -> \
"fd2d68aa-2898-4625-9458-8c319bd3cedf"],
Cell[104247, 2790, 192, 3, 30, "Text", "ExpressionUUID" -> \
"01be2323-da73-420f-b7f8-57f0b5f4e815"],
Cell[CellGroupData[{
Cell[104464, 2797, 174, 3, 52, "Code", "ExpressionUUID" -> \
"b957a203-941e-4ebe-918c-4f3d4b236a4e"],
Cell[104641, 2802, 2143, 49, 127, "Output", "ExpressionUUID" -> \
"6f3923d9-a2c0-4213-bb05-91110407c090"]
}, Open  ]],
Cell[CellGroupData[{
Cell[106821, 2856, 179, 4, 52, "Code", "ExpressionUUID" -> \
"0eadd098-99a0-4a6c-9663-cdbea28e4679"],
Cell[107003, 2862, 20635, 490, 63, "Output", "ExpressionUUID" -> \
"4f364300-a07f-4485-b4f9-90916540f7f2"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[127687, 3358, 176, 3, 44, "Subsection", "ExpressionUUID" -> \
"22564d69-c60b-4a9a-a8b9-479d216cea56"],
Cell[127866, 3363, 202, 3, 30, "Text", "ExpressionUUID" -> \
"d6217efd-9491-4c7a-951f-5df8513a46ed"],
Cell[CellGroupData[{
Cell[128093, 3370, 737, 20, 52, "Code", "ExpressionUUID" -> \
"cbfd4bdd-dd31-4c50-b988-019479299495"],
Cell[128833, 3392, 6565, 166, 63, "Output", "ExpressionUUID" -> \
"fc1a0f57-9311-4130-a1d9-ef983e0bbf10"]
}, Open  ]],
Cell[135413, 3561, 172, 3, 30, "Text", "ExpressionUUID" -> \
"089d0dea-3baf-4265-a9f7-4b13782a0691"],
Cell[CellGroupData[{
Cell[135610, 3568, 321, 6, 52, "Code", "ExpressionUUID" -> \
"e1b9b570-c53e-469a-baf3-986c54ef938e"],
Cell[135934, 3576, 1414, 36, 75, "Output", "ExpressionUUID" -> \
"a8482fd3-4d84-4288-bf19-b37b68a2a5ed"]
}, Open  ]],
Cell[137363, 3615, 202, 3, 30, "Text", "ExpressionUUID" -> \
"38fe7afb-5f89-492b-a81c-d302a48b5b62"],
Cell[CellGroupData[{
Cell[137590, 3622, 263, 7, 52, "Code", "ExpressionUUID" -> \
"5b4c311f-f781-4d3e-9133-71b6930ae1ed"],
Cell[137856, 3631, 394, 11, 32, "Output", "ExpressionUUID" -> \
"778ca4b7-2719-45ae-88a4-65c1451f37af"]
}, Open  ]],
Cell[138265, 3645, 169, 3, 30, "Text", "ExpressionUUID" -> \
"45c49e08-254f-4407-a3b2-c15e08959769"],
Cell[CellGroupData[{
Cell[138459, 3652, 675, 18, 129, "Code", "ExpressionUUID" -> \
"471a3103-6316-4730-94e2-a98c29332337"],
Cell[139137, 3672, 20860, 468, 451, "Output", "ExpressionUUID" -> \
"a2081d31-3512-4a23-bc52-088568016e43"]
}, Open  ]],
Cell[160012, 4143, 215, 5, 30, "Text", "ExpressionUUID" -> \
"f28aa480-e06c-4d66-90fe-c5b9c3a6e652"],
Cell[CellGroupData[{
Cell[160252, 4152, 1306, 39, 148, "Code", "ExpressionUUID" -> \
"1d4b08c4-6a43-4d4a-a4bf-ae2479562f6f"],
Cell[161561, 4193, 21215, 491, 451, "Output", "ExpressionUUID" -> \
"b1d883d2-2635-4358-a803-699bf8296f99"]
}, Open  ]],
Cell[182791, 4687, 313, 7, 49, "Text", "ExpressionUUID" -> \
"e4bc1e47-e434-436e-9bd8-892a62a2b355"]
}, Open  ]]
}, Open  ]]
}
]
*)

